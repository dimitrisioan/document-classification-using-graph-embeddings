HELP
NEEDED
HELLO
I
HOPE
SOMEBODY
OUT
HERE
CAN
HELP
ME
I
AM
CURRENTLY
WORKING
ON
A
PROJECT
WHERE
I
AM
TRYING
TO
COMMUNICATE
FROM
AN
IBM
WITH
PHOENIX
BIOS
USING
C
TO
A
BOARD
THAT
I
MADE
WITH
AN
INTEL
CPU
WITH
UART
CHIP
THE
BOARD
WORKS
FINE
WITH
THE
TRANSMIT
COMMAND
AND
TERMINAL
EMULATION
MODE
OF
KERMIT
BUT
THERE
SEEMS
TO
BE
SOMETHING
WRONG
WITH
THE
INITIALIZATION
OR
PROTOCOL
USED
WHEN
I
TRY
C
I
NEED
TO
ACCESS
THE
UNIT
I
BUILT
USING
C
BECAUSE
I
HAVE
A
SIZABLE
CHUNK
OF
C
CODE
THAT
I
WILL
BE
USING
TO
PERFORM
CALCULATIONS
AND
OPERATIONS
THAT
WILL
BE
VERY
DIFFICULT
TO
CODE
IN
ASSEMBLY
LANGUAGE
FOR
THE
I
HAVE
INCLUDED
THE
ASSEMBLY
CODE
THAT
I
AM
RUNNING
AND
THE
C
CODE
THAT
I
AM
TRYING
TO
USE
IF
ANYONE
CAN
SHOW
ME
SOMETHING
THAT
I
AM
DOING
BLATANTLY
INCORRECTLY
OR
THAT
I
AM
MISSING
BECAUSE
OF
MY
LACK
OF
KNOWLEDGE
ABOUT
SERIAL
COMMUNICATIONS
PLEASE
EMAIL
ME
I
WROTE
THE
ASSEMBLY
LANGUAGE
TO
WAIT
FOR
A
CHARACTER
TO
BE
RECEIVED
AND
THEN
TO
CHECK
IT
AGAINST
THE
CHARACTER
IF
A
IS
RECEIVED
THE
LEDS
WILL
INDICATE
THIS
TWO
C
PROGRAMS
THAT
I
HAVE
WRITTEN
DO
NOTHING
BUT
SET
UP
COM
PORT
AND
SEND
THE
CHARACTER
ONE
USES
THE
BIOSCOM
FUNCTION
IN
BIOSH
THE
OTHER
USES
THE
SOFTWARE
INTERRUPT
FUNCTION
IN
DOSH
I
HAVE
TRIPLE
CHECKED
THE
BAUD
RATE
THE
PARITY
NONE
THE
STOP
BITS
THE
CHARACTER
LENGTH
BITS
AND
THE
INTERRUPT
CALLS
FOR
CURRENTLY
I
AM
AT
A
LOSS
AS
TO
WHAT
MAY
BE
WRONG
ANY
HARDWARE
GURUS
OUT
THERE
WANT
TO
COMMENT
THANKS
ALOT
HUBERT
DE
JESUS
DEJESUSENIACSEASUPENNEDU
INTEL
ASM
COMMAND
EQU
COMMAND
REGISTER
ON
PORTA
EQU
PORT
A
ON
TIMERLO
EQU
HIGH
BITS
OF
TIMER
TIMERHI
EQU
LOW
BITS
OF
TIMER
UARTDATA
EQU
UART
DATA
REGISTER
UARTCMD
EQU
UART
COMMAND
REGISTER
ORG
SRAM
LOCATION
MVI
SET
LOW
TIMER
BITS
STA
TIMERLO
MVI
SET
HIGH
TIMER
BITS
STA
TIMERHI
MVI
START
TIMER
ENABLE
PORT
A
STA
COMMAND
MVI
DISPLAY
ON
LEDS
STA
PORTA
MVI
CLEAR
UART
COMMAND
STA
UARTCMD
STA
UARTCMD
STA
UARTCMD
MVI
INTERNALLY
RESET
UART
STA
UARTCMD
LDA
UARTDATA
REMOVE
EXTRANEOUS
DATA
MVI
INIT
UART
FOR
DATA
BITS
STA
UARTCMD
NO
PARITY
STOP
BIT
ASYNC
MVI
ENABLE
TRANSMIT
AND
RECEIVE
STA
UARTCMD
INIT
LDA
UARTCMD
READ
STATUS
REGISTER
ANI
IS
RXRDY
JZ
INIT
NO
LOOP
LDA
UARTDATA
READ
DATA
CHARACTER
CPI
IS
CHARACTER
JNZ
INIT
NO
LOOP
MVI
CHARACTER
RECEIVED
STA
PORTA
DISPLAY
ON
LEDS
HLT
END
C
USING
BIOSCOM
INCLUDE
STDIOH
INCLUDE
STDLIBH
INCLUDE
BIOSH
DEFINE
INIT
DEFINE
SEND
DEFINE
RECEIVE
DEFINE
STATUS
DEFINE
VOID
MAIN
CHAR
ABYTE
ABYTE
BIOSCOM
INIT
ABYTE
PRINTF
INITIALIZED
COMM
PORT
WHILE
BIOSCOM
STATUS
ABYTE
BIOSCOM
SEND
ABYTE
PRINTF
SENT
START
CHARACTERN
C
USING
INCLUDE
STDIOH
INCLUDE
STDLIBH
INCLUDE
DOSH
INCLUDE
BIOSH
MAIN
UNION
REGS
REGISTERS
REGISTERSHAH
REGISTERSHAL
REGISTERSXDX
REGISTERS
REGISTERS
PRINTF
INITIALIZEDN
REGISTERSHAH
REGISTERSHAL
REGISTERSXDX
REGISTERS
REGISTERS
PRINTF
SENT
START
CHARACTERN
