RE
FOR
JOYSTICKS
IS
SLOW
IN
LIONESSOAKCIRCAUFLEDU
WRITES
IM
USING
TO
READ
MY
JOYSTICK
AND
IT
IS
HIDEOUSLY
SLOW
SOMETHING
LIKE
OF
MY
CPU
TIME
IS
BEING
SPENT
READING
THE
JOYSTICK
AND
THIS
IS
IN
A
PROGRAM
THAT
DOES
NOTHING
BUT
PRINTF
AND
JOYREAD
IF
YOU
ONLY
DO
READPRINT
THEN
THERE
IS
NO
REASON
FOR
THE
JOYSTICK
STUFF
NOT
TO
TAKE
OF
THE
TIME
EVEN
IF
IT
IS
EFFICIENT
THE
PROBLEM
IS
THAT
A
LOT
OF
PROGRAMS
TRAP
LIKE
SMARTDRV
AND
SO
IT
IS
A
SLOW
AS
HELL
INTERFACE
CAN
I
READ
THE
JOYSTICK
PORT
IN
A
REASONABLY
SAFE
FASHION
VIA
POLLING
AND
THAT
ISNT
PLATFORM
OR
CLOCKSPEED
SPECIFIC
THE
TRUTH
IS
THAT
INT
JOYSTICK
READING
IS
SLOW
I
READ
IT
DIRECTLY
FROM
THE
HARDWARE
PORT
NOTE
THAT
DOING
SO
EXPOSES
YOU
TO
INTERMITTENT
DISTURBANCE
FROM
INTERRUPTS
SO
YOU
MAY
WANT
TO
READ
SAY
TWICE
IN
A
ROW
AND
KEEP
THE
LOWER
RESULTS
DONT
JUST
TURN
INTERRUPTS
OFF
IT
MAY
PROVE
DETRIMENTAL
TO
THE
HEALTH
OF
ANY
HIGH
SPEED
COMMS
AND
OTHER
DEVICES
HERE
IS
AN
EXAMPLE
OF
HOW
TO
DO
THIS
JOYC
AN
EXAMPLE
OF
HOW
TO
READ
PC
JOYSTICK
PORT
BY
POLLING
THE
HARDWARE
PORT
DIRECTLY
USES
INPOUTP
FOR
BYTE
PORT
ACCESS
WILL
TIMEOUT
WHEN
INT
COUNTS
UP
TO
ZERO
THIS
SAMPLE
READS
ONE
PORT
A
IS
PRESENTED
AND
B
IS
IN
THE
COMMENTS
YOU
CAN
READ
BOTH
AT
ONCE
BY
MERGING
THE
TWO
BUT
IT
WILL
TIME
OUT
WHEN
EITHER
JOYSTICK
IS
NOT
CONNECTED
THERE
IS
NO
NEED
TO
OPTIMIZE
THIS
ROUTINE
SINCE
IT
RUNS
FOR
AS
LONG
AS
THE
JOYSTICK
CIRCUITRY
NEEDS
WRITTEN
BY
EYAL
LEBEDINSKY
EYALISECANBERRAEDUAU
INCLUDE
STDIOH
INCLUDE
STDLIBH
INCLUDE
CONIOH
EXTERN
INT
READJOY
INT
X
INT
Y
INT
INT
DEFINE
JOYPORT
DEFINE
XJOY
FOR
JOYSTICK
B
USE
DEFINE
YJOY
FOR
JOYSTICK
B
USE
DEFINE
XYMASK
XJOYYJOY
DEFINE
FOR
JOYSTICK
B
USE
DEFINE
FOR
JOYSTICK
B
USE
INT
RETURNS
IF
OK
READJOY
INT
X
INT
Y
INT
INT
REGISTER
INT
COUNT
REGISTER
CHAR
TEMP
JOY
TEMP
CHARXYMASK
COUNT
OUTP
JOYPORT
SET
TRIGGER
DO
TEMP
JOY
CHARINP
JOYPORT
IF
TEMP
XJOY
X
COUNT
IF
TEMP
YJOY
Y
COUNT
WHILE
COUNT
TEMP
JOY
XYMASK
JOY
JOY
RETURN
COUNT
THIS
MAIN
IS
FOR
DEMONSTRATION
INT
MAIN
INT
RC
X
Y
PRINTF
HIT
ANY
KEY
TO
EXITN
WHILE
KBHIT
RC
READJOY
X
Y
PRINTF
RD
D
D
RC
X
Y
