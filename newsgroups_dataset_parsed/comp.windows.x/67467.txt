RE
XMTEXTFIELD
TRUNCATION
WITH
LANG
BUG
IN
ARTICLE
SWALKERBBNCOM
SUSAN
WALKER
WRITES
I
HAVE
FOUND
A
SITUATION
WHICH
I
THINK
IS
A
BUG
IN
X
OR
MOTIF
BUT
IM
HOPING
IS
REALLY
JUST
A
MISTAKE
ON
MY
PART
DOES
ANYONE
KNOW
ANYTHING
ABOUT
THIS
PROBLEM
I
AM
USING
AN
XMTEXTFIELD
AND
SETTING
ITS
XMNVALUE
TO
A
HARDCODED
TEXT
STRING
ASCII
OR
KANJI
EITHER
VIA
XTSETVALUES
OR
XMTEXTSETSTRING
THE
PROBLEM
IS
THAT
WHEN
THE
XMTEXTFIELD
IS
DISPLAYED
THE
TEXT
IS
GETTING
TRUNCATED
DEPENDING
ON
THE
SETTING
OF
THE
ENVIRONMENT
VARIABLES
LANG
MORE
SPECIFICALLY
LCALL
WHEN
THEY
ARE
SET
TO
JAPANESE
THE
TEXT
GETS
TRUNCATED
WHEN
THEY
ARE
SET
TO
ENGLISH
EVERYTHING
WORKS
FINE
I
AM
TAKING
THE
DEFAULT
FOR
XMNCOLUMNS
PLEASE
NOTE
THAT
HARDCODING
OF
TEXT
IS
NOT
DONE
IN
MY
ACTUAL
APPLICATION
JUST
IN
MY
SAMPLE
CODE
TO
MAKE
THINGS
EASIER
I
AM
RUNNING
MOTIF
VIA
MY
TEST
PROGRAM
IS
SET
UP
TO
HANDLE
BIT
KANJI
CHARACTERS
I
HAVE
REMEMBERED
TO
DO
XTSETLANGUAGEPROC
PRIOR
TO
MY
MRMINITIALIZE
AND
MY
FONT
RESOURCES
ARE
SET
TO
JAPANESE
FONTS
DONT
KNOW
IF
THIS
MATTERS
BUT
MY
DIALOG
BOX
AND
TEXTFIELD
IS
INITIALLY
CREATED
WITH
UIL
THE
PROBLEM
DOES
NOT
HAPPEN
WITH
XMTEXT
UNFORTUNATELY
SUBSTITUTING
XMTEXTFIELDS
WITH
XMTEXTS
IN
MY
APPLICATION
IS
NOT
AN
ACCEPTABLE
ALTERNATIVE
WAY
TOO
MUCH
CODE
TO
BE
MODIFIED
WHILE
IN
BETA
I
HAVE
A
SMALL
TEST
PROGRAM
WHICH
ILLUSTRATES
THE
PROBLEM
IF
ANYONE
WANTS
IT
MY
BEST
GUESS
IS
THAT
EITHER
THE
X
CODE
OR
MOTIF
IS
NOT
PROPERLY
ALLOCATING
MEMORY
FOR
JAPANESE
BUT
SINCE
I
DONT
HAVE
THE
SOURCE
TO
LOOK
AT
IT
IS
JUST
A
GUESS
THE
PROBLEM
WAS
THAT
TEXTFIELD
WAS
IMPROPERLY
WALKING
THE
STRING
IT
USED
THE
CHARACTER
COUNT
INSTEAD
OF
THE
BYTE
COUNT
A
SIGNIFICAN
OOPS
THE
PROBLEM
HAS
BEEN
FIXED
AND
THE
PATCH
IS
INCLUDED
IN
THE
LATEST
PERIODIC
PATCH
FROM
HP
SUPPORT
SERVICES
TOM
MCFARLAND
TOMMCCVHPCOM
