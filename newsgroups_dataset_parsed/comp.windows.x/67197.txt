RE
ANIMATION
WITH
XPUTIMAGE
IN
ARTICLE
WHALEYSIGMAKPCCOM
KEN
WHALEY
WRITES
ONE
ADVANAGE
OF
MITSHM
IS
THAT
IF
YOUR
IMAGES
ARE
LARGE
YOU
DONT
END
UP
GROWING
THE
SIZE
OF
THE
SERVER
PROCESS
TO
HOLD
THEM
CORRECT
MOST
X
SERVERS
USE
A
VERSION
OF
WHICH
WILL
NOT
RETURN
MEMORY
TO
THE
OS
IE
THE
X
SERVER
MIGHT
A
PIXMAP
BUT
THE
HEAP
DOES
NOT
SHRINK
ONE
DISADVANTAGE
OF
THE
MITSHM
IS
THAT
IN
ITS
SAMPLE
IMPLEMENTATION
THERE
IS
NO
PROVISION
FOR
ELEGANTLY
CLEANING
UP
THE
SHARED
MEMORY
SEGMENTS
IF
THE
CLIENT
DIES
A
SUDDEN
VIOLENT
DEATH
EG
KILL
YOU
HAVE
TO
BE
MINDFUL
OF
CLUTTERING
UP
THE
SYSTEM
WITH
ZOMBIE
SHARED
MEMORY
SEGMENTS
WELL
PART
OF
THE
ROUTINES
I
MENTIONED
DO
A
DIRTY
LITTLE
TRICK
TO
GET
AROUND
THAT
PROBLEM
FIRST
I
CREATE
THE
SHARED
MEMORY
SEGMENT
ATTACH
THE
CLIENT
ATTACH
THE
X
SERVER
AND
THEN
REMOVE
THE
SEGMENT
IF
YOU
READ
THE
MAN
PAGES
ON
REMOVING
OF
SHARED
MEMORY
SEGMENTS
YOU
WILL
SEE
THAT
THE
SEGMENT
ONLY
DIES
AFTER
ALL
ATTACHMENTS
ARE
GONE
NOW
IF
THE
CLIENT
DIES
THATS
ONE
ATTACHMENT
GONE
THE
OS
CLEANS
UP
FOR
YOU
AND
SINCE
THE
X
SERVER
NOTICES
THE
CLIENT
HAS
DIES
FREES
UP
ITS
RESOURCES
INCLUDING
DETACHING
FROM
THE
SEGMENT
THERE
GOES
THE
LAST
ATTACHMENT
NO
MORE
SHARED
MEMORY
SEGMENT
TERRIBLE
BUT
IT
WORKS
REGARDS
RICHARD
GOOCH
