COMPWINDOWSXINTRINSICS
FREQUENTLY
ASKED
QUESTIONS
FAQ
ARCHIVENAME
XTFAQ
VERSION
ID
FAQXTV
WARE
EXP
THE
X
TOOLKIT
INTRINSICS
FAQ
A
MONTHLY
POSTING
THIS
ARTICLE
CONTAINS
THE
ANSWERS
TO
SOME
FREQUENTLY
ASKED
QUESTIONS
FAQ
FROM
COMPWINDOWSX
ABOUT
THE
X
TOOLKIT
INTRINSICS
TO
SUBMIT
QUESTIONS
PREFERABLY
WITH
AN
ANSWER
SEND
EMAIL
TO
WARECISOHIOSTATEEDU
MANY
FAQS
INCLUDING
THIS
ONE
ARE
AVAILABLE
ON
THE
ARCHIVE
SITE
RTFMMITEDU
IN
THE
DIRECTORY
PUBUSENETNEWSANSWERS
THE
NAME
UNDER
WHICH
A
FAQ
IS
ARCHIVED
APPEARS
IN
THE
ARCHIVENAME
LINE
AT
THE
TOP
OF
THE
ARTICLE
THIS
FAQ
IS
ARCHIVED
AS
XTFAQ
ALL
CODE
FRAGMENTS
ARE
PUBLIC
DOMAIN
CONTENTS
XT
GLOSSARY
SOFTWARE
VERSIONS
RELATED
FAQS
WHY
DOES
MY
APPLICATION
CORE
DUMP
WHEN
I
USE
SIGNALSALARMSCTHREADS
HOW
DO
I
USE
A
DIFFERENT
VISUAL
THAN
THE
DEFAULT
WHICH
VISUAL
SHOULD
AN
APPLICATION
USE
WHY
DO
ONLY
SHELL
WIDGETS
HAVE
A
VISUAL
WHICH
VISUAL
DEPTH
AND
COLORMAP
DO
SHELLS
INHERIT
IVE
DONE
ALL
THE
ABOVE
AND
I
STILL
GET
A
BADMATCH
ERROR
WHY
WHY
DOESNT
MY
WIDGET
GET
DESTROYED
WHEN
I
CALL
XTDESTROYWIDGET
HOW
DO
I
EXIT
BUT
STILL
EXECUTE
THE
DESTROYCALLBACKS
HOW
DO
I
RESIZE
A
SHELL
WIDGET
WHY
CANT
XTAPPADDINPUT
HANDLE
FILES
WHAT
GOOD
BOOKS
AND
MAGAZINES
ARE
THERE
ON
XT
WHAT
WIDGETS
ARE
AVAILABLE
WHAT
ALTERNATIVES
TO
THE
INTRINSICS
ARE
THERE
HOW
DO
I
PASS
A
FLOAT
VALUE
TO
XTSETVALUES
HOW
DO
I
WRITE
A
RESOURCE
CONVERTER
HOW
DO
I
OPEN
MULTIPLE
DISPLAYS
WHAT
CHANGED
FROM
TO
TO
WHERE
ARE
THE
RESOURCES
LOADED
FROM
WHAT
ORDER
ARE
CALLBACKS
EXECUTED
IN
HOW
DO
I
KNOW
IF
A
WIDGET
IS
VISIBLE
HOW
DO
I
REPARENT
A
WIDGET
IN
XT
IE
XTREPARENTWIDGET
WHY
USE
XTMALLOC
XTFREE
ETC
HOW
TO
DEBUG
AN
XT
APPLICATION
WHY
DONT
XTADDINPUT
XTADDTIMEOUT
AND
XTADDWORKPROC
WORK
WHAT
IS
AND
HOW
CAN
I
IMPLEMENT
DRAG
AND
DROP
XT
GLOSSARY
O
THE
XT
INTRINSICS
IMPLEMENT
AN
OBJECT
ORIENTED
INTERFACE
TO
C
CODE
TO
ALLOW
USEFUL
GRAPHICAL
COMPONENTS
TO
BE
CREATED
INCLUDED
WITH
THIS
ARE
CLASSES
THAT
PROVIDE
THE
BASE
FUNCTIONALITY
OBJECT
RECTOBJ
CORE
COMPOSITE
CONSTRAINT
SHELL
OVERRIDESHELL
WMSHELL
ETC
THE
TERMS
XT
AND
INTRINSICS
ARE
USED
INTERCHANGEABLY
HOWEVER
THEY
ARE
USED
VERY
PRECISELY
TO
MEAN
A
SPECIFIC
LIBRARY
OF
THE
X
WINDOW
SYSTEM
IN
PARTICULAR
IT
DOES
NOT
INCLUDE
THE
ATHENA
MOTIF
OLIT
OR
ANY
OTHER
WIDGET
SET
WITHOUT
FURTHER
WIDGETS
THE
INTRINSICS
ARE
NOT
ESPECIALLY
USEFUL
O
A
WIDGET
REFERS
TO
A
USER
INTERFACE
ABSTRACTION
CREATED
VIA
XT
THE
PRECISE
USE
IS
ANY
OBJECT
THAT
IS
A
SUBCLASS
OF
THE
CORE
CLASS
IT
IS
USED
LOOSELY
TO
REFER
TO
ANYTHING
THAT
IS
A
SUBCLASS
OF
THE
OBJECT
CLASS
ALTHOUGH
THESE
ARE
MORE
ACCURATELY
CALLED
WINDOWLESS
WIDGETS
OR
GADGETS
O
XLIB
IS
THE
C
INTERFACE
TO
THE
PROTOCOL
IT
IS
ONE
LAYER
BELOW
THE
XT
INTRINSICS
TYPICALLY
A
WIDGET
USES
RELATIVELY
FEW
XLIB
FUNCTIONS
BECAUSE
XT
PROVIDES
MOST
SUCH
SERVICES
ALTHOUGH
AN
UNDERSTANDING
OF
XLIB
HELPS
WITH
PROBLEMS
SOFTWARE
VERSIONS
THE
FOLLOWING
ARE
THE
LATEST
VERSIONS
OF
XT
BASED
SOFTWARE
SOFTWARE
VERSION
RELEASED
NEXT
EXPECTED
PATCH
NONE
PATCH
ATHENA
WIDGETS
SEE
MOTIF
OLIT
XTRA
XW
NONE
XCU
NONE
FWF
RELATED
FAQS
DAVID
B
LEWIS
UUNETCRAFTFAQ
MAINTAINS
THE
FAQ
ON
X
IT
IS
POSTED
MONTHLY
ON
COMPWINDOWSX
AND
LOCATED
ON
EXPORT
IN
CONTRIBFAQ
LIAM
R
E
QUIN
LEESQSQCOM
POSTS
AN
FAQ
LIST
ON
OPEN
LOOK
TO
COMPWINDOWSX
JAN
NEWMARCH
JANPANDONIACANBERRAEDUAU
POSTS
AN
FAQ
LIST
ON
MOTIF
TO
COMPWINDOWSXMOTIF
PETER
WARE
WARECISOHIOSTATEEDU
POSTS
AN
FAQ
LIST
FOR
COMPWINDOWSXINTRINSICS
IT
IS
ON
EXPORT
IN
CONTRIBFAQXT
WHY
DOES
MY
APPLICATION
CORE
DUMP
WHEN
I
USE
SIGNALSALARMSCTHREADS
IN
BRIEF
XLIB
XT
AND
MOST
WIDGET
SETS
HAVE
NO
MUTUAL
EXCLUSION
FOR
CRITICAL
SECTIONS
ANY
INTERRUPT
HANDLER
IS
LIKELY
TO
LEAVE
ONE
OF
THE
ABOVE
LIBRARIES
IN
AN
INCONSISTENT
STATE
SUCH
AS
ALL
THE
APPROPRIATE
FLAGS
NOT
YET
SET
DANGLING
POINTERS
IN
THE
MIDDLE
OF
A
LIST
TRAVERSAL
ETC
NOTE
THAT
THE
ANSI
C
STANDARD
POINTS
OUT
THAT
BEHAVIOR
OF
A
SIGNAL
HANDLER
IS
UNDEFINED
IF
THE
SIGNAL
HANDLER
CALLS
ANY
FUNCTION
OTHER
THAN
SIGNAL
ITSELF
SO
THIS
IS
NOT
A
PROBLEM
SPECIFIC
TO
XLIB
AND
XT
THE
POSIX
SPECIFICATION
MENTIONS
OTHER
FUNCTIONS
WHICH
MAY
BE
CALLED
SAFELY
BUT
IT
MAY
NOT
BE
ASSUMED
THAT
THESE
FUNCTIONS
ARE
CALLED
BY
XLIB
OR
XT
FUNCTIONS
THE
ONLY
SAFE
WAY
TO
DEAL
WITH
SIGNALS
IS
TO
SET
A
FLAG
IN
THE
INTERRUPT
HANDLER
THIS
FLAG
LATER
NEEDS
TO
BE
CHECKED
EITHER
BY
A
WORK
PROCEDURE
OR
A
TIMEOUT
CALLBACK
IT
IS
INCORRECT
TO
ADD
EITHER
OF
THESE
IN
THE
INTERRUPT
HANDLER
AS
ANOTHER
NOTE
IT
IS
DANGEROUS
TO
ADD
A
WORK
PROCEDURE
THAT
NEVER
FINISHES
THIS
EFFECTIVELY
PREEMPTS
ANY
WORK
PROCEDURES
PREVIOUSLY
ADDED
AND
SO
THEY
WILL
NEVER
BE
CALLED
ANOTHER
OPTION
IS
TO
OPEN
A
PIPE
TELL
THE
EVENT
LOOP
ABOUT
THE
READ
END
USING
XTAPPADDINPUT
AND
THEN
THE
SIGNAL
HANDLER
CAN
WRITE
A
BYTE
TO
THE
WRITE
END
OF
THE
PIPE
FOR
EACH
SIGNAL
HOWEVER
THIS
COULD
DEADLOCK
YOUR
PROCESS
IF
THE
PIPE
FILLS
UP
WHY
DONT
THE
INTRINSICS
DEAL
WITH
THIS
PROBLEM
PRIMARILY
BECAUSE
IT
IS
SUPPOSED
TO
BE
A
PORTABLE
LAYER
TO
ANY
HARDWARE
AND
OPERATING
SYSTEM
IS
THAT
A
GOOD
ENOUGH
REASON
I
DONT
THINK
SO
NOTE
THE
ARTICLE
IN
THE
X
JOURNAL
AND
THE
EXAMPLE
IN
OREILLY
VOLUME
ARE
IN
ERROR
HOW
DO
I
USE
A
DIFFERENT
VISUAL
THAN
THE
DEFAULT
THIS
REQUIRES
A
MORE
COMPLICATED
ANSWER
THAN
IT
SHOULD
A
WINDOW
HAS
THREE
THINGS
THAT
ARE
VISUAL
SPECIFIC
THE
VISUAL
COLORMAP
AND
BORDER
PIXMAP
ALL
WIDGETS
HAVE
THEIR
OWN
COLORMAP
AND
BORDERPIXMAP
RESOURCE
ONLY
SHELL
WIDGETS
HAVE
VISUAL
RESOURCES
ANOTHER
QUESTIONS
DEALS
WITH
WHY
SHELLS
HAVE
A
VISUAL
THE
DEFAULT
VALUE
OF
THESE
RESOURCES
IS
COPYFROMPARENT
WHICH
DOES
EXACTLY
WHAT
IT
SAYS
IN
THE
SHELL
WIDGET
COPYFROMPARENT
GETS
EVALULATED
AS
DEFAULTVISUALOFSCREEN
AND
DEFAULTCOLORMAPOFSCREEN
WHEN
ANY
ONE
OF
THE
THREE
RESOURCES
IS
NOT
PROPERLY
SET
A
BADMATCH
ERROR
OCCURS
WHEN
THE
WINDOW
IS
CREATED
THEY
ARE
NOT
PROPERLY
SET
BECAUSE
EACH
OF
THE
VALUES
DEPENDS
ON
THE
VISUAL
BEING
USED
HOW
TO
GET
THIS
TO
WORK
THERE
ARE
TWO
PARTS
TO
THE
ANSWER
THE
FIRST
IS
IF
YOU
WANT
AN
APPLICATION
TO
START
WITH
A
PARTICULAR
VISUAL
AND
THE
SECOND
IS
IF
YOU
WANT
A
PARTICULAR
SHELL
WITHIN
AN
APPLICATION
TO
START
WITH
A
DIFFERENT
VISUAL
THE
SECOND
IS
ACTUALLY
EASIER
BECAUSE
THE
BASIC
INFORMATION
YOU
NEED
IS
AVAILABLE
THE
FIRST
IS
A
LITTLE
HARDER
BECAUSE
YOULL
NEED
TO
INITIALIZE
MUCH
OF
THE
TOOLKIT
YOURSELF
IN
ORDER
TO
DETERMINE
THE
NEEDED
INFORMATION
SOME
SAMPLE
CODE
TO
START
UP
AN
APPLICATION
USING
SOMETHING
OTHER
THAN
THE
DEFAULT
VISUAL
TO
COMPILE
CC
G
VISUALC
O
VISUAL
LXAW
LXMU
LXT
LXEXT
LM
TO
RUN
VISUAL
GEOMETRY
DEPTH
VISUAL
STATICCOLOR
FG
BLUE
BG
YELLOW
YOU
NEED
TO
MOVE
THE
MOUSE
TO
GET
THE
PARTICULAR
VISUALS
COLORMAP
TO
INSTALL
INCLUDE
INCLUDE
INCLUDE
TYPEDEF
STRUCT
VISUAL
VISUAL
INT
DEPTH
OPTIONSREC
OPTIONSREC
OPTIONS
XTRESOURCE
RESOURCES
VISUAL
VISUAL
XTRVISUAL
SIZEOF
VISUAL
XTOFFSETOF
OPTIONSREC
VISUAL
XTRIMMEDIATE
NULL
DEPTH
DEPTH
XTRINT
SIZEOF
INT
XTOFFSETOF
OPTIONSREC
DEPTH
XTRIMMEDIATE
NULL
XRMOPTIONDESCREC
DESC
VISUAL
VISUAL
XRMOPTIONSEPARG
NULL
DEPTH
DEPTH
XRMOPTIONSEPARG
NULL
INT
MAIN
ARGC
ARGV
INT
ARGC
CHAR
ARGV
XTAPPCONTEXT
APP
THE
APPLICATION
CONTEXT
WIDGET
TOP
TOPLEVEL
WIDGET
DISPLAY
DPY
DISPLAY
CHAR
XARGV
SAVED
ARGUMENT
VECTOR
INT
XARGC
SAVED
ARGUMENT
COUNT
COLORMAP
COLORMAP
CREATED
COLORMAP
XVISUALINFO
VINFO
TEMPLATE
FOR
FIND
VISUAL
XVISUALINFO
VINFOLIST
RETURNED
LIST
OF
VISUALS
INT
COUNT
NUMBER
OF
MATCHS
ONLY
ARG
CARDINAL
CNT
CHAR
NAME
TEST
CHAR
CLASS
TEST
SAVE
THE
COMMAND
LINE
ARGUMENTS
XARGC
ARGC
XARGV
CHAR
XTMALLOC
ARGC
SIZEOF
CHAR
BCOPY
CHAR
ARGV
CHAR
XARGV
ARGC
SIZEOF
CHAR
THE
FOLLOWING
CREATES
A
DUMMY
TOPLEVEL
WIDGET
SO
WE
CAN
RETRIEVE
THE
APPROPRIATE
VISUAL
RESOURCE
CNT
TOP
XTAPPINITIALIZE
APP
CLASS
DESC
XTNUMBER
DESC
ARGC
ARGV
STRING
NULL
ARGS
CNT
DPY
XTDISPLAY
TOP
CNT
XTGETAPPLICATIONRESOURCES
TOP
OPTIONS
RESOURCES
XTNUMBER
RESOURCES
ARGS
CNT
CNT
IF
OPTIONSVISUAL
OPTIONSVISUAL
DEFAULTVISUALOFSCREEN
XTSCREEN
TOP
XTSETARG
ARGSCNT
XTNVISUAL
OPTIONSVISUAL
CNT
NOW
WE
CREATE
AN
APPROPRIATE
COLORMAP
WE
COULD
USE
A
DEFAULT
COLORMAP
BASED
ON
THE
CLASS
OF
THE
VISUAL
WE
COULD
EXAMINE
SOME
PROPERTY
ON
THE
ROOTWINDOW
TO
FIND
THE
RIGHT
COLORMAP
WE
COULD
DO
ALL
SORTS
OF
THINGS
COLORMAP
XCREATECOLORMAP
DPY
ROOTWINDOWOFSCREEN
XTSCREEN
TOP
OPTIONSVISUAL
ALLOCNONE
XTSETARG
ARGSCNT
XTNCOLORMAP
COLORMAP
CNT
NOW
FIND
SOME
INFORMATION
ABOUT
THE
VISUAL
VINFOVISUALID
XVISUALIDFROMVISUAL
OPTIONSVISUAL
VINFOLIST
XGETVISUALINFO
DPY
VISUALIDMASK
VINFO
COUNT
IF
VINFOLIST
COUNT
XTSETARG
ARGSCNT
XTNDEPTH
CNT
XFREE
XPOINTER
VINFOLIST
XTDESTROYWIDGET
TOP
NOW
CREATE
THE
REAL
TOPLEVEL
WIDGET
XTSETARG
ARGSCNT
XTNARGV
XARGV
CNT
XTSETARG
ARGSCNT
XTNARGC
XARGC
CNT
TOP
XTAPPCREATESHELL
CHAR
NULL
CLASS
APPLICATIONSHELLWIDGETCLASS
DPY
ARGS
CNT
DISPLAY
THE
APPLICATION
AND
LOOP
HANDLING
ALL
EVENTS
XTREALIZEWIDGET
TOP
XTAPPMAINLOOP
APP
RETURN
WHICH
VISUAL
SHOULD
AN
APPLICATION
USE
THIS
IS
A
POINT
THAT
CAN
BE
ARGUED
ABOUT
BUT
ONE
OPINION
IS
THERE
IS
NO
WAY
FOR
AN
APPLICATION
TO
KNOW
THE
APPROPRIATE
VISUAL
IT
HAS
TO
BE
SPECIFIED
BY
THE
USER
IF
YOU
DISAGREE
WITH
THIS
THEN
YOUR
APPLICATION
PROBABLY
FALLS
INTO
THE
CATEGORY
OF
ALWAYS
USING
THE
DEFAULT
VISUAL
OR
IT
IS
HARDWARE
SPECIFIC
AND
EXPECTS
SOME
PARTICULAR
VISUAL
SUCH
AS
TRUECOLOR
WITH
AN
OVERLAYPLANE
EXTENSION
OR
SOME
SUCH
WHY
NO
APPLICATION
RUNS
IN
ISOLATION
DEPENDING
ON
THE
WAY
A
SERVER
ALLOCATES
RESOURCES
I
MAY
NOT
ALWAYS
WANT
YOUR
APPLICATION
TO
RUN
IN
TRUECOLOR
MODE
IF
IT
IS
GOING
TO
MESS
UP
MY
OTHER
APPLICATIONS
I
MAY
BE
VERY
UPSET
IF
IT
CHOOSES
TO
RUN
IN
GREYSCALE
INSTEAD
OF
PSUEDOCOLOR
OR
JUST
MONOCHROME
AS
AN
EXAMPLE
ON
A
LOW
END
COLOR
SUN
SERVER
THERE
ARE
MANY
DIFFERENT
POSSIBLE
VISUALS
MONOCHROME
ENTRY
COLORMAP
STATIC
GRAY
STATIC
COLOR
AND
A
TRUECOLOR
THE
SGI
IRISS
OFFER
ALL
THE
ABOVE
PLUS
BIT
TRUECOLOR
BIT
TRUECOLOR
AN
OVERLAY
PLANE
WHY
DO
ONLY
SHELL
WIDGETS
HAVE
A
VISUAL
THIS
IS
STRICTLY
BY
CONVENTION
IT
MAKES
IT
POSSIBLE
FOR
AN
ARBITRARY
WIDGET
TO
KNOW
THAT
THE
VISUAL
IT
USES
CAN
BE
FOUND
BY
LOOKING
FOR
THE
SHELL
WIDGET
THAT
IS
ITS
ANCESTOR
AND
OBTAINING
THE
VISUAL
OF
THAT
SHELL
A
WIDGET
CAN
HAVE
ITS
OWN
VISUAL
RESOURCE
IF
IT
DOES
IT
MUST
HAVE
ITS
OWN
REALIZE
METHOD
TO
USE
THE
VISUAL
WHEN
IT
CALLS
XCREATEWINDOW
YOU
SHOULD
ALSO
MAKE
THIS
A
RESOURCE
THAT
CAN
BE
OBTAINED
WITH
XTGETVALUES
SO
OTHER
WIDGETS
CAN
FIND
IT
A
REASONABLE
VALUE
IS
PROBABLY
XTNVISUAL
WHICH
VISUAL
DEPTH
AND
COLORMAP
DO
SHELLS
INHERIT
THE
DEFAULT
VALUE
FOR
THESE
RESOURCES
ARE
SET
TO
COPYFROMPARENT
THIS
IS
INTERPRETED
AS
THE
DEFAULTCOLORMAPOFSCREEN
DEFAULTDEPTHOFSCREEN
AND
THE
DEFAULT
VISUAL
OF
THE
SCREEN
IF
THE
WIDGET
HAS
NO
PARENT
IE
IT
IS
AN
APPLICATIONSHELLWIDGETCLASS
AND
THE
ROOT
OF
YOUR
WIDGET
TREE
IF
THE
PARENT
OF
THE
WIDGET
IS
NOT
NULL
THEN
THE
SHELL
COPIES
COLORMAP
AND
DEPTH
FROM
ITS
PARENT
AND
USES
COPYFROMPARENT
AS
THE
VISUAL
IVE
DONE
ALL
THE
ABOVE
AND
I
STILL
GET
A
BADMATCH
ERROR
WHY
SOME
RESOURCE
CONVERTERS
IMPROPERLY
CACHE
REFERENCES
THIS
WAS
ESPECIALLY
TRUE
OF
AND
EARLIER
VERSIONS
OF
MOTIF
WHY
DOESNT
MY
WIDGET
GET
DESTROYED
WHEN
I
CALL
XTDESTROYWIDGET
SEE
SECTION
OF
THE
XT
SPECIFICATION
IT
EVENTUALLY
DOES
GET
DESTROYED
JUST
NOT
IMMEDIATELY
THE
INTRINSICS
DESTROY
A
WIDGET
IN
A
TWOPHASE
PROCESS
FIRST
IT
AND
ALL
OF
ITS
CHILDREN
HAVE
A
FLAG
SET
THAT
INDICATE
IT
IS
BEING
DESTROYED
IT
IS
THEN
PUT
ON
A
LIST
OF
WIDGETS
TO
BE
DESTROYED
THIS
WAY
ANY
PENDING
X
EVENTS
OR
FURTHER
REFERENCES
TO
THAT
WIDGET
CAN
BE
CLEANED
UP
BEFORE
THE
MEMORY
IS
ACTUALLY
FREED
THE
SECOND
PHASE
IS
THEN
PERFORMED
AFTER
ALL
CALLBACKS
EVENT
HANDLERS
AND
ACTIONS
HAVE
COMPLETED
BEFORE
CHECKING
FOR
THE
NEXT
X
EVENT
AT
THIS
POINT
THE
LIST
IS
TRAVERSED
AND
EACH
WIDGETS
MEMORY
IS
ACTUALLY
FREED
AMONG
OTHER
THINGS
AS
SOME
FURTHER
CAVEATSTRIVIA
THE
WIDGETS
MAY
BE
DESTROYED
IF
THE
INTRINSICS
DETERMINE
THAT
THEY
HAVE
NO
FURTHER
REFERENCES
TO
THE
WIDGETS
ON
THE
LIST
IF
SO
THEN
THE
PHASE
DESTRUCTION
OCCURS
IMMEDIATELY
ALSO
IF
NESTED
EVENT
LOOPS
ARE
USED
WIDGETS
PLACED
ON
THE
DESTROY
LIST
BEFORE
ENTERING
THE
INNER
EVENT
LOOP
ARE
NOT
DESTROYED
UNTIL
RETURNING
TO
THE
OUTER
EVENT
LOOP
HOW
DO
I
EXIT
BUT
STILL
EXECUTE
THE
DESTROYCALLBACKS
THE
PROBLEM
IS
IF
A
SIMPLE
AND
ENTIRELY
REASONABLE
APPROACH
TO
EXITING
AN
APPLICATION
IS
USED
SUCH
AS
CALLING
EXIT
DIRECTLY
THEN
A
WIDGET
MAY
NOT
HAVE
A
CHANCE
TO
CLEAN
UP
ANY
EXTERNAL
STATE
SUCH
AS
OPEN
SOCKETS
TEMPORARY
FILES
ALLOCATED
X
RESOURCES
ETC
THIS
CODE
FOR
SIMPLICITY
REASONS
ASSUMES
ONLY
A
SINGLE
TOPLEVEL
WIDGET
WIDGET
TOPLEVELGET
GW
WIDGET
GW
WIDGET
TO
FIND
TOPLEVEL
WIDGET
TOP
FOR
TOP
GW
XTPARENT
TOP
TOP
XTPARENT
TOP
EMPTY
RETURN
TOP
VOID
EXITCALLBACK
GW
CLOSURE
CALLDATA
WIDGET
GW
WIDGET
XTPOINTER
CLOSURE
DATA
THE
APP
SPECIFIED
XTPOINTER
CALLDATA
WIDGET
SPECIFIC
DATA
WIDGET
TOPLEVEL
TOPLEVEL
TOPLEVELGET
GW
XTUNMAPWIDGET
TOPLEVEL
MAKE
IT
DISAPPEAR
QUICKLY
XTDESTROYWIDGET
TOPLEVEL
EXIT
ONE
CAN
SEE
THAT
THE
ABOVE
CODE
EXITS
IMMEDIATELY
AFTER
DESTROYING
THE
TOPLEVEL
WIDGET
THE
TROUBLE
IS
THE
PHASE
DESTRUCTION
MAY
NEVER
OCCUR
THIS
WORKS
FOR
MOST
WIDGETS
AND
MOST
APPLICATIONS
BUT
WILL
NOT
WORK
FOR
THOSE
WIDGETS
THAT
HAVE
ANY
EXTERNAL
STATE
YOU
MIGHT
THINK
THAT
SINCE
IT
WORKS
NOW
IT
WILL
ALWAYS
WORK
BUT
REMEMBER
THAT
PART
OF
THE
REASON
AN
OBJECT
ORIENTED
APPROACH
IS
USED
IS
SO
ONE
CAN
BE
IGNORANT
OF
THE
IMPLEMENTATION
DETAILS
FOR
EACH
WIDGET
WHICH
MEANS
THAT
THE
WIDGET
MAY
CHANGE
AND
SOMEDAY
REQUIRE
THAT
SOME
EXTERNAL
STATE
IS
CLEANED
UP
BY
THE
DESTROY
CALLBACKS
ONE
ALTERNATIVE
IS
TO
MODIFY
EXITCALLBACK
TO
SET
A
GLOBAL
FLAG
AND
THEN
TEST
FOR
THAT
FLAG
IN
A
PRIVATE
EVENT
LOOP
HOWEVER
PRIVATE
EVENT
LOOPS
ARE
FROWNED
UPON
BECAUSE
IT
TENDS
TO
ENCOURAGE
SLOPPY
AND
DIFFICULT
TO
MAINTAIN
PRACTICES
TRY
THE
FOLLOWING
CODE
INSTEAD
INCLUDE
EXTERN
WIDGET
TOPLEVELGET
IF
NEEDFUNCTIONPROTOTYPES
WIDGET
GW
ENDIF
EXTERN
BOOLEAN
EXITWORKPROC
IF
NEEDFUNCTIONPROTOTYPES
XTPOINTER
CLOSURE
ENDIF
EXTERN
VOID
EXITCALLBACK
IF
NEEDFUNCTIONPROTOTYPES
WIDGET
GW
XTPOINTER
CLOSURE
XTPOINTER
CALLDATA
ENDIF
WIDGET
TOPLEVELGET
GW
WIDGET
GW
WIDGET
TO
FIND
TOPLEVEL
WIDGET
TOP
FOR
TOP
GW
XTPARENT
TOP
TOP
XTPARENT
TOP
EMPTY
RETURN
TOP
VOID
EXITCALLBACK
GW
CLOSURE
CALLDATA
WIDGET
GW
WIDGET
XTPOINTER
CLOSURE
DATA
THE
APP
SPECIFIED
XTPOINTER
CALLDATA
WIDGET
SPECIFIC
DATA
WIDGET
TOPLEVEL
TOPLEVEL
TOPLEVELGET
GW
XTUNMAPWIDGET
TOPLEVEL
MAKE
IT
DISAPPEAR
QUICKLY
XTDESTROYWIDGET
TOPLEVEL
XTAPPADDWORKPROC
XTWIDGETTOAPPLICATIONCONTEXT
GW
EXITWORKPROC
XTPOINTER
NULL
BOOLEAN
EXITWORKPROC
CLOSURE
XTPOINTER
CLOSURE
EXIT
NOTREACHED
EXITCALLBACK
ADDS
A
WORK
PROCEDURE
THAT
WILL
GET
CALLED
WHEN
THE
APPLICATION
IS
NEXT
IDLE
WHICH
HAPPENS
AFTER
ALL
THE
EVENTS
ARE
PROCESSED
AND
THE
DESTROY
CALLBACKS
ARE
EXECUTED
HOW
DO
I
RESIZE
A
SHELL
WIDGET
AFTER
IT
IS
REALIZED
ONE
DOESNT
RESIZE
A
SHELL
WIDGET
THE
PROPER
THING
IS
TO
RESIZE
THE
CURRENTLY
MANAGED
CHILD
OF
THE
SHELL
WIDGET
USING
XTSETVALUES
THE
GEOMETRY
CHANGE
IS
THEN
PROPAGATED
TO
THE
SHELL
WHICH
ASKS
THE
WINDOW
MANAGER
WHICH
MAY
OR
MAY
NOT
ALLOW
THE
REQUEST
HOWEVER
THE
SHELL
MUST
HAVE
THE
RESOURCE
XTNALLOWSHELLRESIZE
SET
TO
TRUE
OTHERWISE
IT
WILL
NOT
EVEN
ASK
THE
WINDOW
MANAGER
TO
GRANT
THE
REQUEST
AND
THE
SHELL
WILL
NOT
RESIZE
TO
CHANGE
THE
POSITION
OF
A
SHELL
USE
XTSETVALUES
ON
THE
SHELL
NOT
THE
CHILD
AND
WITHIN
THE
LIMITS
OF
THE
WINDOW
MANAGER
IT
SHOULD
BE
GRANTED
WHY
CANT
XTAPPADDINPUT
HANDLE
FILES
IT
DOES
HOWEVER
UNIX
SEMANTICS
FOR
WHEN
IO
IS
READY
FOR
A
FILE
DOES
NOT
FIT
MOST
PEOPLES
INTUITIVE
MODEL
IN
UNIX
TERMS
A
FILE
DESCRIPTOR
IS
READY
FOR
READING
WHENEVER
THE
READ
CALL
WOULD
NOT
BLOCK
IGNORING
THE
SETTING
OF
OPTIONAL
FLAGS
THAT
INDICATE
NOT
TO
BLOCK
THIS
WORKS
AS
EXPECTED
FOR
TERMINALS
SOCKETS
AND
PIPES
FOR
A
FILE
THE
READ
WILL
ALWAYS
RETURN
BUT
THE
RETURN
INDICATES
AN
EOF
IE
NO
MORE
DATA
THE
RESULT
IS
THE
CODE
IN
THE
INTRINSICS
ALWAYS
CALLS
THE
INPUT
HANDLER
BECAUSE
IT
ALWAYS
THINKS
SOMETHING
IS
ABOUT
TO
BE
READ
THE
CULPRIT
IS
THE
SELECT
SYSTEM
CALL
OR
ON
SYSV
BASED
OSS
IT
IS
THE
POLL
SYSTEM
CALL
HOW
TO
GET
AROUND
THIS
ON
A
UNIX
SYSTEM
THE
BEST
APPROACH
IS
TO
USE
ANOTHER
PROCESS
TO
CHECK
FOR
AVAILABLE
INPUT
ON
THE
FILE
USE
A
PIPE
TO
CONNECT
THE
APPLICATION
WITH
THIS
OTHER
PROCESS
AND
PASS
THE
FILE
DESCRIPTOR
FROM
THE
PIPE
TO
XTAPPADDINPUT
A
SUITABLE
PROGRAM
ON
BSD
SYSTEMS
IS
TAIL
F
FILENAME
ITS
RUMORED
THAT
SELECT
ON
SOME
SYSTEMS
IS
NOT
COMPLETELY
RELIABLE
IN
PARTICULAR
IBM
AIX
THIS
IS
ONE
WHERE
IT
WOULD
WORK
FOR
A
WHILE
SEVERAL
THOUSAND
TIMES
AND
THEN
STOP
UNTIL
SOME
OTHER
EVENT
WOKE
IT
UP
THIS
SEEMED
TO
BE
THE
RESULT
OF
A
RACE
CONDITION
IN
THE
KERNEL
IBM
CLAIMS
TO
HAVE
A
FIX
FOR
THIS
PYRAMID
DOESNT
WORK
AT
ALL
ULTRIX
AND
POSSIBLY
OTHERS
WHERE
PIPES
ARE
IMPLEMENTED
AS
SOCKETS
WASNT
COMPLETELY
BROKEN
BUT
ALTHOUGH
THE
WRITING
SIDE
WROTE
IN
BYTE
BLOCKS
THE
READING
SIDE
RECEIVED
IT
ALL
BROKEN
UP
AS
IF
IT
WAS
BEING
PUT
INTO
THE
PIPE
A
BYTE
AT
A
TIME
YOU
CAN
WASTE
A
LOT
OF
TIME
BY
READING
SMALL
BLOCKS
GET
RAOUND
IT
BY
DETECTING
THE
SITUATION
AND
HAVING
SELECT
IGNORE
THE
PIPE
FOR
MSECONDS
BY
THEN
IT
HAD
BEEN
GIVEN
THE
WHOLE
BLOCK
NOTE
THAT
ALL
THE
ABOVE
DESCRIPTIONS
USED
UNIX
TERMINOLOGY
SUCH
AS
READ
FILE
DESCRIPTOR
PIPES
ETC
THIS
IS
AN
OS
DEPENDENT
AREA
AND
MAY
NOT
BE
IDENTICAL
ON
ALL
SYSTEMS
HOWEVER
THE
INTRINSIC
DESIGNERS
FELT
IT
WAS
A
COMMON
ENOUGH
OPERATION
THAT
IT
SHOULD
BE
INCLUDED
WITH
PART
OF
THE
TOOLKIT
WHY
THEY
DIDNT
ALSO
DEAL
WITH
SIGNALS
AT
THIS
POINT
I
DONT
KNOW
WHAT
GOOD
BOOKS
AND
MAGAZINES
ARE
THERE
ON
XT
I
HAVE
A
FAVORITE
THAT
IS
THE
DEFINITIVE
REFERENCE
TO
MY
PERSPECTIVE
IT
OFFERS
A
REASONABLE
INTRODUCTION
BUT
ALSO
GOES
INTO
THE
FULL
DETAILS
OF
THE
INTRINSICS
WHEN
I
STARTED
USING
IT
I
WAS
ALREADY
FAMILIAR
WITH
XT
AND
THE
CONCEPTS
BEHIND
IT
SO
NEWCOMERS
MAY
OR
MAY
NOT
FIND
IT
USEFUL
IVE
ALWAYS
FOUND
IT
ACCURATE
AND
COMPLETE
WHICH
MEANS
ITS
A
PAGES
ASENTE
PAUL
J
AND
SWICK
RALPH
R
X
WINDOW
SYSTEM
TOOLKIT
THE
COMPLETE
PROGRAMMERS
GUIDE
AND
SPECIFICATION
DIGITAL
PRESS
ISBN
ORDER
NUMBER
AND
BY
PRENTICEHALL
ISBN
ALSO
AVAILABLE
THROUGH
DEC
DIRECT
AT
THE
OTHER
BOOK
I
COMMONLY
RECOMEND
TO
NOVICES
IS
YOUNG
DOUG
THE
X
WINDOW
SYSTEM
APPLICATIONS
AND
PROGRAMMING
WITH
XT
MOTIF
VERSION
PRENTICE
HALL
ISBN
ISBN
AND
OF
COURSE
OREILLY
HAS
AN
ENTIRE
SERIES
OF
MANUALS
ON
X
AND
XT
OREILLY
ORDERING
IS
IN
PARTICULAR
VOLUME
IS
AN
XT
REFERENCE
DONE
IN
MANUAL
PAGE
STYLE
THE
EDITION
IS
EXTENSIVELY
OVERHAULED
AND
GOES
FAR
BEYOND
THE
MIT
MANUAL
PAGES
IM
FINDING
IT
VERY
USEFUL
IN
PARTICULAR
THE
PERMUTTED
INDEX
AND
REFERENCES
TO
OTHER
MANUAL
PAGES
HELP
A
GREAT
DEAL
IN
CHASING
DOWN
RELATED
INFORMATION
I
READ
TWO
PERIODICALS
THE
X
RESOURCE
AND
THE
THE
X
JOURNAL
THESE
ARE
THE
ONLY
TWO
DEALING
SPECIFICALLY
WITH
X
THE
X
RESOURCE
IS
PUBLISHED
QUARTERLY
BY
OREILLY
WITH
ONE
OF
THE
ISSUES
BEING
THE
MIT
X
CONSORTIUM
TECHNICAL
CONFERENCE
PROCEEDINGS
THERE
IS
NO
ADVERTISING
IVE
FOUND
IT
INFORMATIVE
WITH
PRETTY
GOOD
DEPTH
FOR
ORDERS
CALL
OR
EMAIL
CATHYRORACOM
FOR
EDITORIAL
MATTERS
EMAIL
ADRIANORACOM
TABLE
OF
CONTENTS
ARE
POSTED
AT
MATHUTAHEDU
IN
FTPPUBTEXBIB
IN
TEX
FORM
AND
ON
FTPUUNET
IN
FTPPUBLISHEDOREILLYXRESOURCE
IN
ASCII
FORM
THE
X
JOURNAL
IS
A
BIMONTHLY
TRADE
RAG
WITH
LOTS
OF
ADVERTISING
THE
ARTICLES
ARE
INFORMATIVE
AND
ORIENTED
TOWARD
A
LESS
TECHNICAL
AUDIENCE
I
READ
IT
MORE
TO
SEE
WHATS
GOING
ON
THEN
WITH
AN
EXPECTATION
OF
LEARNING
A
GREAT
DEAL
BUT
REMEMBER
I
REPRESENT
A
FAIRLY
SMALL
PERCENTAGE
OF
PEOPLE
ALSO
THEY
HAVE
A
PRETTY
GOOD
COLLECTION
OF
PEOPLE
ON
THE
ADVISORY
BOARD
AND
AS
COLUMNISTS
CALL
WHAT
WIDGETS
ARE
AVAILABLE
THERE
ARE
THREE
POPULAR
WIDGET
SETS
ATHENA
THE
SET
PROVIDED
WITH
THIS
IS
SUFFICIENT
FOR
MOST
PURPOSES
BUT
IS
ON
THE
UGLY
SIDE
RECENTLY
A
LOOK
IS
AVAILABLE
FOR
FTP
ON
MOTIF
FROM
OSF
AVAILABLE
FOR
A
LICENSE
FEE
AND
COMMONLY
SHIPPED
ON
MANY
WORKSTATION
VENDORS
PLATFORMS
ALMOST
EVERYONE
BUT
SUN
IT
LOOKS
GOOD
AND
WORKS
WELL
BUT
PERSONALLY
I
THINK
IT
IS
POORLY
IMPLEMENTED
OLIT
THE
OPEN
LOOK
INTRINSICS
TOOLKIT
IS
A
SET
OF
WIDGETS
IMPLEMENTING
SUNS
OPEN
LOOK
SPECIFICATION
DEVELOPED
BY
ATT
IVE
NEVER
USED
IT
SO
CANT
COMMENT
ON
ITS
QUALITY
IVE
HEARD
RUMOURS
THAT
IT
IS
A
PAIN
TO
ACTUALLY
GET
IN
ADDITION
THE
FOLLOWING
COLLECTION
OF
WIDGETS
ARE
ALSO
AVAILABLE
XTRA
A
LIBRARY
OF
WIDGETS
FOR
SALE
FROM
GRAPHICAL
SOFTWARE
TECHNOLOGY
IT
INCLUDES
BAR
GRAPH
STACKED
BAR
GRAPH
LINE
GRAPH
PIE
CHART
XY
PLOT
HYPERTEXT
HELP
SPREADSHEET
AND
DATA
ENTRY
FORM
WIDGETS
IVE
NEVER
SEEN
THEM
SO
I
CANT
COMMENT
FWF
THE
FREE
WIDGET
FOUNDATION
IS
ATTEMPTING
TO
COLLECT
A
SET
OF
FREELY
AVAILABLE
WIDGETS
INCLUDED
ARE
A
PIXMAP
EDITOR
FILEDIALOG
AND
A
FEW
OTHERS
THE
CURRENT
SET
OF
WIDGETS
CAN
BE
OBTAINED
VIA
ANONYMOUS
FTP
FROM
THE
MACHINE
ACSUIUCEDU
IN
THE
FILE
PUBFWFSHARZ
XCU
THE
CORNELL
UNIVERSITY
WIDGETS
FROM
GENE
DYKES
ONE
OF
THE
EARLY
WIDGET
SETS
RELEASED
PROVIDES
A
NICE
APPEARANCE
FOR
BUTTONS
AND
HAS
A
MINI
COMMAND
LANGUAGE
PROBABLY
NOT
SO
WIDELY
USED
XS
THE
SONY
WIDGET
SET
THIS
WAS
AROUND
DURING
DAYS
BUT
SEEMED
TO
DISAPPEAR
IT
LOOKED
LIKE
IT
HAD
PROMISE
XW
THE
HP
WIDGETS
THE
PRECURSOR
TO
MOTIF
ORIGINALLY
WRITTEN
FOR
THERE
EXISTS
DIFFS
TO
GET
IT
TO
WORK
UNDER
AGAIN
A
PRETTY
GOOD
WIDGET
SET
BUT
HAS
MORE
OR
LESS
DIED
THE
PRECURSOR
TO
THIS
WAS
THE
XRAY
TOOLKIT
WHICH
WAS
ORIGINALLY
IMPLEMENTED
FOR
AND
APPARENTLY
PROVIDED
MUCH
EXPERIENCE
FOR
THE
DESIGNERS
OF
XT
XO
A
WIDGET
SET
IM
WORKING
ON
ITS
STILL
PRIMITIVE
BUT
YOU
CAN
GIVE
IT
A
TRY
IN
ARCHIVECISOHIOSTATEEDUPUBXO
THE
FOLLOWING
SPECIALIZED
WIDGETS
ARE
ALSO
AVAILABLE
TBL
IMPLEMENTS
A
TABULAR
LAYOUT
OF
WIDGETS
SUPPORTS
MOTIF
WIDGETS
AS
CHILDREN
PART
OF
WCL
PLOTS
THE
ATHENA
PLOTTING
WIDGETS
NOT
THE
ATHENA
WIDGETS
CONTACT
GNBBBYOZAU
OR
JOEATHENAMITEDU
WHAT
ALTERNATIVES
TO
THE
INTRINSICS
ARE
THERE
NAME
LANGUAGE
VENDOR
XVIEW
C
SUN
OI
C
PARCPLACE
INTERVIEWS
C
STANFORD
TCLTK
C
SPRITEBERKELEYEDU
HOWEVER
MUCH
I
LIKE
C
AND
ADMIRE
THE
SKILL
IN
BOTH
DESIGNING
AND
IMPLEMENTING
THE
INTRINSICS
HOPEFULLY
SOME
ALTERNATIVE
WILL
DEVELOP
IN
THE
NEXT
YEARS
THAT
USES
AN
OBJECT
ORIENTED
LANGUAGE
KEEP
YOUR
EYES
OPEN
AND
EXPECT
SOME
CHANGE
ABOUT
THE
SAME
TIME
A
LANGUAGE
OTHER
THAN
C
STARTS
GAINING
ACCEPTANCE
HOW
DO
I
PASS
A
FLOAT
VALUE
TO
XTSETVALUES
FIRST
WHAT
IS
GOING
WRONG
IS
THE
STRUCTURE
FOR
AN
ARG
IS
ESSENTIALLY
TYPDEF
STRUCT
STRING
NAME
LONG
VALUE
ARG
AND
THE
CODE
ARG
ARG
XTSETARG
ARG
NAME
EXPANDS
TO
ARG
ARG
ARGNAME
NAME
ARGVALUE
YOU
CAN
SEE
THAT
WITH
NORMAL
C
TYPE
CONVERSIONS
THE
ARGVALUE
GETS
THE
INTEGER
INSTEAD
OF
THE
FLOATING
POINT
VALUE
WHEN
THE
VALUE
IS
COPIED
INTO
THE
WIDGET
RESOURCE
THE
BIT
PATTERN
IS
WILDLY
DIFFERENT
THAN
THAT
REQUIRED
FOR
A
FLOATING
POINT
VALUE
SO
HOW
TO
GET
AROUND
THIS
THE
FOLLOWING
MACRO
IS
FROM
THE
ATHENA
WIDGETS
DOCUMENT
AND
I
AM
NOW
RECOMENDING
IT
OVER
THE
PREVIOUS
SUGGESTIONS
DEFINE
XTSETFLOATARGARG
N
D
IF
SIZEOFFLOAT
SIZEOFXTARGVAL
XTSETARGARG
N
D
ELSE
XTARGVAL
LD
XTARGVAL
D
XTSETARGARG
N
LD
HOW
DO
I
WRITE
A
RESOURCE
CONVERTER
COURTESY
OF
RICH
THOMSON
RTHOMSONDSDESCOM
THE
FOLLOWING
DISCUSSION
OF
RESOURCE
CONVERTERS
ASSUMES
OR
INTRINSICS
RESOURCE
CONVERTERS
CHANGED
BETWEEN
AND
TO
ALLOW
FOR
DESTRUCTORS
AND
CACHING
OF
CONVERTED
VALUES
THERE
ARE
SEVERAL
MAIN
TYPES
OF
RESOURCE
CONVERTERS
STRING
TO
DATA
TYPE
DATA
TYPE
TO
STRING
DATA
TYPE
TO
DATA
TYPE
I
STRING
TO
DATA
TYPE
USUALLY
A
STRING
TO
DATA
TYPE
CONVERTER
HAS
A
FIXED
SET
OF
STRINGS
THAT
WILL
BE
CONVERTED
TO
DATA
TYPE
VALUES
THIS
IS
MOST
OFTEN
USED
TO
MAP
ENUMERATED
NAMES
TO
ENUMERATED
VALUES
NAME
VALUE
TRUE
FALSE
IN
THIS
CASE
THE
STRING
TO
DATA
TYPE
CONVERTER
NEEDS
TO
COMPARE
THE
RESOURCE
VALUE
TO
THE
LIST
OF
FIXED
STRINGS
THIS
IS
MOST
READILY
ACCOMPLISHED
BY
THE
USE
OF
THE
QUARK
MECHANISM
OF
THE
RESOURCE
MANAGER
THE
RESOURCE
VALUE
IS
TURNED
INTO
A
QUARK
WHICH
IS
A
UNIQUE
REPRESENTATION
OF
THE
STRING
THAT
FITS
INTO
A
SINGLE
WORD
THEN
THE
RESOURCE
QUARK
IS
COMPARED
AGAINST
THE
QUARKS
FOR
THE
FIXED
STRINGS
REPRESENTING
THE
ENUMERATED
VALUES
IF
THERE
ARE
MANY
ENUMERATED
STRINGS
IN
THE
CONVERTER
OR
MANY
CONVERTERS
EACH
WITH
A
SMALL
NUMBER
OF
ENUMERATION
STRINGS
THEN
A
GLOBAL
INITIALIZATION
ROUTINE
MIGHT
BE
USED
TO
TURN
ALL
THE
RESOURCE
STRINGS
INTO
QUARKS
THAT
WAY
THE
FIRST
TIME
ONE
OF
THESE
CONVERTERS
IS
USED
THE
STRINGS
WILL
BE
TURNED
INTO
QUARKS
AND
HELD
IN
STATIC
VARIABLES
FOR
USE
IN
THE
NEXT
INVOCATION
OF
ONE
OF
THE
CONVERTERS
II
DATA
TYPE
TO
STRING
THIS
TYPE
OF
CONVERTER
IS
SLIGHTLY
EASIER
THAN
THE
STRING
TO
DATA
TYPE
CONVERTERS
SINCE
THE
USE
OF
QUARKS
ISNT
NECESSARY
INSTEAD
THE
DATA
TYPE
VALUE
IS
SIMPLY
CONVERTED
TO
A
STRING
VALUE
PROBABLY
BY
THE
USE
OF
SPRINTF
DATA
TYPE
TO
STRING
CONVERTERS
ARE
USEFUL
FOR
APPLICATIONS
THAT
WISH
TO
CONVERT
AN
INTERNAL
DATA
TYPE
VALUE
INTO
A
STRING
SO
THAT
THEY
CAN
WRITE
OUT
A
VALID
RESOURCE
SPECIFICATION
TO
A
FILE
THIS
MECHANISM
CAN
BE
USED
TO
PROVIDE
A
SNAPSHOT
OF
APPLICATION
STATE
INTO
A
FILE
THIS
SNAPSHOT
CAN
BE
USED
TO
RESTORE
THE
PROGRAM
TO
A
KNOWN
STATE
VIA
THE
USUAL
X
RESOURCE
DATABASE
MECHANISMS
IF
YOU
ARE
TAKING
THE
TROUBLE
TO
WRITE
A
STRING
TO
DATA
TYPE
CONVERTER
IT
ISNT
MUCH
EXTRA
EFFORT
TO
WRITE
THE
DATA
TYPE
TO
STRING
CONVERTER
WRITING
BOTH
AT
THE
SAME
TIME
HELPS
TO
ENSURE
THAT
THEY
ARE
CONSISTENT
III
DATA
TYPE
TO
DATA
TYPE
THIS
TYPE
OF
CONVERTER
IS
USED
TO
CONVERT
AN
EXISTING
DATA
TYPE
VALUE
TO
ANOTHER
DATA
TYPE
FOR
INSTANCE
AN
X
PIXEL
VALUE
CAN
BE
CONVERTED
TO
AN
RGB
DATA
TYPE
THAT
CONTAINS
SEPARATE
FIELDS
FOR
RED
GREEN
AND
BLUE
THE
TYPE
SIGNATURE
FOR
A
RESOURCE
CONVERTER
IS
AS
FOLLOWS
TYPEDEF
BOOLEAN
XTTYPECONVERTERDISPLAY
XRMVALUEPTR
CARDINAL
XRMVALUEPTR
XRMVALUEPTR
XTPOINTER
DISPLAY
DPY
XRMVALUEPTR
ARGS
CARDINAL
NUMARGS
XRMVALUEPTR
FROMVAL
XRMVALUEPTR
TOVAL
XTPOINTER
CONVERTERDATA
WHEN
THE
CONVERTER
IS
INVOKED
THE
FROMVAL
ARGUMENT
POINTS
TO
THE
SOURCE
X
RESOURCE
MANAGER
VALUE
AND
THE
TOVAL
ARGUMENT
POINTS
TO
THE
DESTINATION
X
RESOURCE
MANAGER
VALUE
THE
CONVERTERDATA
ARGUMENT
IS
AN
OPAQUE
POINTER
TO
SOME
CONVERTERSPECIFIC
DATA
THAT
IS
SPECIFIED
WHEN
THE
CONVERTER
IS
REGISTERED
THE
ARGS
AND
NUMARGS
ARGUMENTS
ALLOW
EXTRA
INFORMATION
TO
BE
PASSED
TO
THE
CONVERTER
WHEN
IT
IS
INVOKED
FOR
INSTANCE
THE
PIXEL
TO
RGB
STRUCTURE
CONVERTER
DISCUSSED
ABOVE
WOULD
NEED
COLORMAP
AND
VISUAL
ARGUMENTS
IN
WHICH
TO
LOOKUP
THE
PIXEL
TO
OBTAIN
THE
RGB
VALUES
CORRESPONDING
TO
THAT
PIXEL
CARE
MUST
BE
TAKEN
WITH
THE
TOVAL
ARGUMENT
AN
XRMVALUE
HAS
THE
FOLLOWING
TYPE
DEFINITION
AND
SPECIFIES
A
SIZE
AND
LOCATION
FOR
A
CONVERTED
VALUE
TYPEDEF
STRUCT
UNSIGNED
INT
SIZE
CADDRT
ADDR
XRMVALUE
XRMVALUEPTR
WHEN
THE
CONVERTER
IS
INVOKED
THE
ADDRESS
MAY
POINT
TO
A
LOCATION
OF
THE
GIVEN
SIZE
FOR
THE
CONVERTED
VALUE
OR
THE
LOCATION
CAN
BE
NULL
IN
THE
FORMER
CASE
THE
CONVERTER
SHOULD
ENSURE
THAT
THE
SIZE
OF
THE
DESTINATION
AREA
IS
LARGE
ENOUGH
TO
HANDLE
THE
CONVERTED
VALUE
IF
THE
DESTINATION
AREA
IS
NOT
LARGE
ENOUGH
THEN
THE
CONVERTER
SHOULD
SET
THE
SIZE
TO
THE
AMOUNT
OF
SPACE
NEEDED
AND
RETURN
FALSE
THE
CALLER
CAN
THEN
ENSURE
THAT
ENOUGH
SPACE
IS
ALLOCATED
AND
REINVOKE
THE
CONVERTER
IF
THE
SIZE
IS
LARGE
ENOUGH
THEN
THE
CONVERTER
CAN
SIMPLY
COPY
THE
CONVERTED
VALUE
INTO
THE
SPACE
GIVEN
AND
RETURN
TRUE
IF
THE
LOCATION
IS
NULL
THEN
THE
CONVERTER
CAN
ASSIGN
THE
LOCATION
TO
THE
ADDRESS
OF
A
STATIC
VARIABLE
CONTAINING
THE
CONVERTED
VALUE
AND
RETURN
TRUE
WHEN
WRITING
A
GROUP
OF
CONVERTERS
THIS
CODE
IS
OFTEN
REPEATED
AND
IT
BECOMES
CONVENIENT
TO
DEFINE
A
MACRO
DEFINE
DONEVAR
TYPE
IF
TOVALADDR
IF
TOVALSIZE
SIZEOFTYPE
TOVALSIZE
SIZEOFTYPE
RETURN
FALSE
ELSE
TYPE
TOVALADDR
VAR
ELSE
TOVALADDR
CADDRT
VAR
TOVALSIZE
SIZEOFTYPE
RETURN
TRUE
DEFINE
DONESTRSTR
IF
TOVALADDR
TOVALSIZE
SIZEOFSTRING
TOVALSIZE
SIZEOFSTRING
RETURN
FALSE
ELSE
TOVALADDR
CADDRT
STR
TOVALSIZE
SIZEOFSTRING
RETURN
TRUE
INSIDE
THE
CONVERTER
IT
IS
A
GOOD
IDEA
TO
PERFORM
A
LITTLE
SAFETY
CHECKING
ON
THE
NUMARGS
AND
ARGS
ARGUMENTS
TO
ENSURE
THAT
YOUR
CONVERTER
IS
BEING
CALLED
PROPERLY
ONCE
YOU
HAVE
WRITTEN
YOUR
CONVERTER
YOU
NEED
TO
REGISTER
IT
WITH
THE
INTRINSICS
THE
INTRINSICS
INVOKES
RESOURCE
CONVERTERS
WHEN
CREATING
WIDGETS
AND
FETCHING
THEIR
RESOURCE
VALUES
FROM
THE
RESOURCE
DATABASE
TO
REGISTER
A
CONVERTER
WITH
A
SINGLE
APPLICATION
CONTEXT
USE
XTAPPSETTYPECONVERTER
VOID
XTAPPSETTYPECONVERTERCONTEXT
FROM
TO
CONVERTER
ARGS
NUMARGS
CACHE
DESTRUCTOR
XTAPPCONTEXT
CONTEXT
STRING
FROM
STRING
TO
XTTYPECONVERTER
CONVERTER
XTCONVERTARGLIST
ARGS
CARDINAL
NUMARGS
XTCACHETYPE
CACHE
XTDESTRUCTOR
DESTRUCTOR
TO
REGISTER
A
CONVERTER
WITH
ALL
APPLICATION
CONTEXTS
USE
XTSETTYPECONVERTER
VOID
XTSETTYPECONVERTERFROM
TO
CONVERTER
ARGS
NUMARGS
CACHE
DESTRUCTOR
STRING
FROM
STRING
TO
XTTYPECONVERTER
CONVERTER
XTCONVERTARGLIST
ARGS
CARDINAL
NUMARGS
XTCACHETYPE
CACHE
XTDESTRUCTOR
DESTRUCTOR
IN
THE
INTRINSICS
THERE
WERE
THE
ROUTINES
XTAPPADDCONVERTER
AND
XTADDCONVERTER
THESE
HAVE
BEEN
SUPERSEDED
BY
XTAPPSETTYPECONVERTER
AND
XTSETTYPECONVERTER
WHENEVER
POSSIBLE
THE
NEWER
ROUTINES
SHOULD
BE
USED
WHEN
A
CONVERTER
IS
REGISTERED
WITH
THE
INTRINSICS
A
CACHE
ARGUMENT
SPECIFIES
HOW
CONVERTED
RESOURCE
VALUES
ARE
TO
BE
CACHED
XTCACHENONE
DONT
CACHE
ANY
CONVERTED
VALUES
XTCACHEALL
CACHE
ALL
CONVERTED
VALUES
XTCACHEBYDISPLAY
CACHE
CONVERTED
VALUES
ON
A
PER
DISPLAY
BASIS
CACHING
CONVERTED
VALUES
THAT
REQUIRE
A
ROUNDTRIP
TO
THE
SERVER
IS
A
GOOD
IDEA
FOR
INSTANCE
STRING
TO
PIXEL
CONVERSIONS
THE
DESTRUCTOR
ARGUMENT
IS
A
ROUTINE
THAT
IS
INVOKED
THEN
THE
RESOURCE
IS
DESTROYED
EITHER
BECAUSE
ITS
CACHED
REFERENCE
COUNT
HAS
BEEN
DECREMENTED
TO
ZERO
OR
BECAUSE
THE
WIDGET
OWNING
THE
VALUE
IS
BEING
DESTROYED
XTDESTRUCTOR
HAS
THE
FOLLOWING
TYPE
DEFINITION
TYPEDEF
VOID
XTDESTRUCTORXTAPPCONTEXT
XRMVALUEPTR
XTPOINTER
XRMVALUEPTR
CARDINAL
XTAPPCONTEXT
CONTEXT
XRMVALUEPTR
TO
XTPOINTER
CONVERTERDATA
XRMVALUEPTR
ARGS
CARDINAL
NUMARGS
THE
DESTRUCTOR
IS
INVOKED
TO
FREE
ANY
AUXILIARY
STORAGE
ASSOCIATED
WITH
THE
TO
ARGUMENT
BUT
DOES
NOT
ACTUALLY
FREE
THE
STORAGE
POINTED
TO
BY
THE
TO
ARGUMENT
ITSELF
TOADDR
THE
DESTRUCTOR
IS
PASSED
THE
EXTRA
ARGUMENTS
THAT
WERE
PASSED
TO
THE
CONVERTER
WHEN
THE
CONVERSION
WAS
PERFORMED
FOR
INSTANCE
COLORMAP
AND
VISUAL
ARGUMENTS
FOR
THE
STRING
TO
PIXEL
CONVERTER
SINCE
THE
DESTRUCTOR
WOULD
NEED
TO
FREE
THE
ALLOCATED
PIXEL
FROM
THE
COLORMAP
AS
WELL
AS
THE
PRIVATE
DATA
PASSED
IN
WHEN
THE
CONVERTER
WAS
REGISTERED
SAMPLE
CONVERTER
CODE
CAN
BE
FOUND
IN
THE
FOLLOWING
FILES
IN
THE
MIT
DISTRIBUTION
MITLIBXTCONVERTERSC
CONTRIBLIBPEXTCONVERTERSC
CONTRIBLIBPEXTCONVERTERSH
HOW
DO
I
OPEN
MULTIPLE
DISPLAYS
SEE
MULTIUSER
APPLICATION
SOFTWARE
USING
XT
THE
X
RESOURCE
ISSUE
SUMMER
BY
OLIVER
JONES
FOR
A
COMPLETE
COVERAGE
OF
THE
ISSUES
INVOLVED
MOST
OF
THIS
ANSWER
IS
BASED
ON
THAT
ARTICLE
IN
A
NUTSHELL
ONE
USES
XTOPENDISPLAY
TO
ADD
EACH
DISPLAY
TO
A
SINGLE
APPLICATION
CONTEXT
AND
THEN
XTCLOSEDISPLAY
TO
SHUTDOWN
EACH
DISPLAY
AND
REMOVE
IT
FROM
THE
APPLICATION
CONTEXT
THE
REAL
PROBLEMS
OCCUR
WHEN
TRYING
TO
CLOSE
DOWN
A
DISPLAY
THIS
CAN
HAPPEN
WAYS
USER
SELECTS
A
QUIT
BUTTON
ON
ONE
OF
THE
DISPLAYS
USER
HAS
WINDOW
MANAGER
SEND
A
WMDELETEWINDOW
MESSAGE
SERVER
DISCONNECT
POSSIBLY
FROM
A
KILLCLIENT
MESSAGE
SERVER
SHUTDOWNCRASH
OR
NETWORK
FAILURE
ILL
ASSUME
YOU
CAN
DEAL
GRACEFULLY
WITH
SINCE
IT
IS
MERELY
A
PROBLEM
OF
TRANSLATING
A
WIDGET
TO
A
DISPLAY
AND
REMOVING
THAT
DISPLAY
IF
NOT
THEN
READ
THE
OLIVER
JONES
ARTICLE
THE
THIRD
ONE
IS
DIFFICULT
TO
HANDLE
THE
FOLLOWING
IS
BASED
ON
THE
OLIVER
JONES
ARTICLE
AND
I
INCLUDE
IT
HERE
BECAUSE
IT
IS
A
DIFFICULT
PROBLEM
THE
DIFFICULTY
ARISES
BECAUSE
THE
XLIB
DESIGN
PRESUMED
THAT
AN
IO
ERROR
IS
ALWAYS
UNRECOVERABLE
AND
SO
FATAL
THIS
IS
ESSENTIALLY
TRUE
FOR
A
SINGLE
DISPLAY
X
BASED
APPLICATION
BUT
NOT
TRUE
FOR
A
MULTIPLE
DISPLAY
PROGRAM
OR
AN
APPLICATION
THAT
DOES
THINGS
OTHER
THAN
DISPLAY
INFORMATION
ON
AN
X
SERVER
WHEN
AN
X
IO
ERROR
OCCURS
THE
IO
ERROR
HANDLER
IS
CALLED
AND
IF
IT
RETURNS
THEN
AN
EXIT
HAPPENS
THE
ONLY
WAY
AROUND
THIS
IS
TO
USE
SETJMPLONGJMP
TO
AVOID
RETURNING
TO
THE
IO
ERROR
HANDLER
THE
FOLLOWING
CODE
FRAGMENT
DEMONSTRATES
THIS
INCLUDE
SETJMPH
JMPBUF
XIORECOVER
VOID
XIOHANDLER
DPY
DISPLAY
DPY
DESTROYDISPLAY
DPY
LONGJMP
XIORECOVER
MAIN
IF
SETJMP
XIORECOVER
XSETIOERRORHANDLER
XIOHANDLER
XTAPPMAINLOOP
APPCONTEXT
THE
DESTROYDISPLAY
IS
SOMETHING
THAT
GIVEN
A
DISPLAY
POINTER
CAN
GO
BACK
TO
THE
APPLICATION
SPECIFIC
DATA
AND
PERFORM
ANY
NECESSARY
CLEANUP
IT
SHOULD
ALSO
CALL
XTCLOSEDISPLAY
FOR
THOSE
OF
YOU
UNFAMILIAR
WITH
SETJMPLONGJMP
WHEN
SETJMP
IS
FIRST
CALLED
IT
RETURNS
A
AND
SAVES
ENOUGH
INFORMATION
IN
THE
JMPBUF
THAT
A
LATTER
EXECUTION
OF
LONGJMP
CAN
RETURN
THE
PROGRAM
TO
THE
SAME
STATE
AS
IF
THE
SETJMP
WAS
JUST
EXECUTED
THE
RETURN
VALUE
OF
THIS
SECOND
SETJMP
IS
THE
VALUE
OF
THE
SECOND
ARGUMENT
TO
LONGJMP
THERE
ARE
SEVERAL
CAVEATS
ABOUT
USING
THESE
BUT
FOR
THIS
PURPOSE
IT
IS
ADEQUATE
SOME
OTHER
PROBLEMS
YOU
MIGHT
RUN
INTO
ARE
RESOURCE
CONVERTERS
THAT
IMPROPERLY
CACHE
RESOURCES
THE
MOST
LIKELY
SYMPTOMS
ARE
XLIB
ERRORS
SUCH
AS
BADCOLOR
BADATOM
OR
BADFONT
THERE
MAY
BE
PROBLEMS
WITH
THE
TOTAL
NUMBER
OF
DISPLAYS
YOU
CAN
OPEN
SINCE
TYPICALLY
ONLY
A
LIMITED
NUMBER
OF
FILE
DESCRIPTORS
ARE
AVAILABLE
WITH
BEING
A
TYPICAL
VALUE
YOU
MAY
ALSO
RUN
INTO
AUTHORIZATION
PROBLEMS
WHEN
TRYING
TO
CONNECT
TO
A
DISPLAY
THERE
WAS
MUCH
DISCUSSION
IN
COMPWINDOWSX
ABOUT
THIS
TOPIC
IN
NOVEMBER
OF
ROBERT
SCHEIFLER
POSTED
AN
ARTICLE
WHICH
BASICALLY
SAID
THIS
IS
THE
WAY
IT
WILL
BE
AND
XLIB
WILL
NOT
CHANGE
WHAT
CHANGED
FROM
TO
TO
THIS
ADDRESSES
ONLY
CHANGES
IN
THE
INTRINSICS
FIRST
THE
GENERAL
CHANGES
FOR
EACH
RELEASE
ARE
DESCRIBED
THEN
A
CERTAINLY
INCOMPLETE
LIST
OF
NEW
FUNCTIONS
ADDED
AND
OTHERS
THAT
ARE
NOW
DEPRECATED
ARE
LISTED
BREVITY
IS
A
PRIMARY
GOAL
MUCH
OF
THE
FOLLOWING
INFORMATION
IS
RETRIEVED
FROM
CHAPTER
OF
THE
MIT
XT
INTRINSICS
MANUAL
AND
FROM
OREILLY
VOLUME
EDITION
FROM
TO
ADDITION
OF
GADGETS
WINDOWLESS
WIDGETS
NEW
RESOURCE
TYPE
CONVERTER
INTERFACE
TO
HANDLE
CACHEING
AND
ADDITIONAL
DATA
VARIABLE
ARGUMENT
LIST
INTERFACE
DEFINE
XTSPECIFICATIONRELEASE
ADDED
WITH
THIS
RELEASE
WMSHELLPART
TOPLEVELSHELLPART
TRANSIENTSHELLPART
CHANGED
INCOMPATIBLY
COREINITIALIZE
CORESETVALUES
ADDED
ARGLIST
AND
COUNT
PARAMETERS
EVENT
HANDLERS
HAD
CONTINUETODISPATCH
PARAMETER
ADDED
CORESETVALUESALMOST
SPECIFICATION
CHANGED
CORECOMPRESSEXPOSURE
CHANGED
TO
AN
ENUMERATED
DATA
TYPE
FROM
BOOLEAN
CORECLASSINITED
CHANGED
TO
ENUMERATED
DATA
TYPE
FROM
BOOLEAN
CONSTRAINTGETVALUESHOOK
ADDED
TO
EXTENSION
RECORD
COREINITIALIZEHOOK
OBSOLETE
AS
INFO
IS
PASSED
TO
COREINITIALIZE
SHELLROOTGEOMETRYMANAGER
ADDED
TO
EXTENSION
RECORD
CORESETVALUESHOOK
OBSOLETE
AS
INFO
IS
PASSED
TO
CORESETVALUES
CALLING
XTQUERYGEOMETRY
MUST
STORE
COMPLETE
GEOMETRY
ADDED
UNREALIZECALLBACK
XTTRANSLATECOORDS
ACTUALLY
WORKS
UNDER
FROM
TO
PSUEDO
RESOURCE
BASETRANSLATION
ADDED
SEARCHING
FOR
APPDEFAULT
AND
OTHER
FILES
MADE
MORE
FLEXIBLE
CUSTOMIZATION
RESOURCE
ADDED
PERSCREEN
RESOURCE
DATABASE
SUPPORT
PERMANENTLY
ALLOCATED
STRINGS
PERMANETLY
ALLOCATED
STRINGS
REQUIRED
FOR
SEVERAL
CLASS
FIELDS
THE
ARGS
ARGUMENT
TO
XTAPPINITIALIZE
XTVAAPPINITIALIZE
XTOPENDISPLAY
XTDISPLAYINITIALIZE
AND
XTINITIALIZE
WERE
CHANGED
FROM
CARDINAL
TO
INT
MANY
PERFORMANCE
IMPROVEMENTS
THIS
IS
SUMMARIZED
FROM
THE
ARTICLE
XT
PERFORMANCE
IMPROVEMENTS
IN
RELEASE
BY
GABE
BEGEDDOV
IN
THE
X
RESOURCE
ISSUE
XRMSTRINGTOQUARK
AUGMENTED
WITH
XRMPERMSTRINGTOQUARK
TO
AVOID
STRING
COPIES
SEVERAL
FIELDS
IN
THE
CLASS
RECORD
ARE
INDICATED
AS
NEEDING
PERMANENT
STRINGS
USING
AN
ARRAY
OF
STRINGS
FOR
RESOURCES
CALLBACK
LISTS
REDESIGNED
TO
USE
LESS
MEMORY
TRANSLATION
MANAGER
REDESIGNED
AND
REWRITTEN
SO
IT
TAKES
LESS
MEMORY
TRANSLATION
TABLES
MERGES
ARE
FASTER
CACHE
OF
ACTION
BINDINGS
KEYCODE
TO
KEYSYMS
ARE
CACHED
BETTER
SHARING
OF
GCS
WITH
MODIFIABLE
FIELDS
WINDOW
TO
WIDGET
TRANSLATION
USES
LESS
SPACE
AND
FASTER
DOES
NOT
MALLOC
SPACE
FOR
WIDGET
NAME
SINCE
QUARK
IS
AVAILABLE
WIDGET
SPACE
IS
ALLOCATED
TO
INCLUDE
THE
CONSTRAINTS
OVER
SEVERAL
EXAMPLE
PROGRAMS
ABOUT
A
REDUCTION
IN
MEMORY
USAGE
FUNCTIONS
NEW
WITH
XTALLOCATEGC
SHARABLE
GC
WITH
MODIFIABLE
FIELDS
XTGETACTIONLIST
GET
THE
ACTION
TABLE
OF
A
CLASS
XTSCREENDATABASE
RETURN
RESOURCE
DATABASE
FOR
A
SCREEN
XTSETLANGUAGEPROC
REGISTER
LANGUAGE
PROCEDURE
CALLED
TO
SET
LOCALE
FUNCTIONS
NEW
WITH
XTAPPADDACTIONHOOK
PROCEDURE
TO
CALL
BEFORE
EVERY
ACTION
XTAPPINITIALIZE
LOTS
OF
INITIALIZATION
WORK
XTAPPRELEASECACHEREFS
DECREMENT
CACHE
REFERENCE
COUNT
FOR
CONVERTER
XTAPPSETFALLBACKRESOURCES
SPECIFY
DEFAULT
RESOURCES
XTAPPSETTYPECONVERTER
REGISTER
A
NEW
STYLE
CONVERTER
XTCALLCALLBACKLIST
DIRECTLY
EXECUTE
A
CALLBACK
LIST
XTCALLCONVERTER
INVOKE
A
NEW
STYLE
CONVERTER
XTCALLBACKRELEASECACHEREF
RELEASE
A
CACHED
RESOURCE
VALUE
XTCALLBACKRELEASECACHEREFLIST
RELEASE
A
LIST
OF
CACHED
RESOURCE
VALUES
XTCONVERTANDSTORE
FIND
AND
CALL
A
RESOURCE
CONVERTER
XTDIRECTCONVERT
INVOKE
OLDSTYLE
CONVERTER
XTDISPLAYOFOBJECT
RETURN
THE
DISPLAY
XTDISPLAYSTRINGCONVERSIONWARNING
ISSUE
A
WARNING
ABOUT
CONVERSION
XTFINDFILE
FIND
A
FILE
XTGETACTIONKEYSYM
RETRIEVE
KEYSYM
MODIFIES
FOR
THIS
ACTION
XTGETAPPLICATIONNAMEANDCLASS
RETURN
NAME
AND
CLASS
XTGETCONSTRAINTRESOURCELIST
GET
CONSTRAINTS
FOR
A
WIDGET
XTGETKEYSYMTABLE
RETURN
KEYCODETOKEYSYM
MAPPING
TABLE
XTGETMULTICLICKTIME
READ
THE
MULTICLICK
TIME
XTGETSELECTIONREQUEST
RETRIEVE
THE
SELECTIONREQUEST
EVENT
XTGETSELECTIONVALUEINCREMENTAL
OBTAIN
THE
SELECTION
VALUE
INCREMENTALLY
XTGETSELECTIONVALUESINCREMENTAL
OBTAIN
THE
SELECTION
VALUE
INCREMENTALLY
XTINITIALIZEWIDGETCLASS
INITIALIZE
A
WIDGET
CLASS
MANUALLY
XTINSERTEVENTHANLDER
REGISTER
EVENT
HANDLER
BEFOREAFTER
OTHERS
XTINSERTRAWEVENTHANDLER
REGISTER
EVENT
HANDLER
WITHOUT
MODIFY
INPUT
MASK
XTISOBJECT
TEST
IF
SUBCLASS
OF
OBJECT
XTISRECTOBJ
TEST
IF
SUBCLASS
OF
RECTOBJ
XTKEYSYMTOKEYCODELIST
RETURN
LIST
OF
KEYCODES
XTLASTTIMESTAMPPROCESSED
RETRIEVE
MOST
RECENT
EVENT
TIME
XTMENUPOPDOWN
ACTION
FOR
POPPING
DOWN
A
WIDGET
XTMENUPOPUP
ACTION
FOR
POPPING
UP
A
WIDGET
XTOFFSETOF
MACRO
FOR
STRUCTURE
OFFSETS
XTOWNSELECTIONINCREMENTAL
MAKE
SELECTION
DATA
AVAILABE
INCREMENTALLY
XTPOUPSPRINGLOADED
MAP
A
SPRINGLOADED
POPUP
XTREGISTERGRABACTION
INDICATE
ACTION
PROCEDURE
NEEDS
A
PASSIVE
GRAB
XTREMOVEACTIOHHOOK
REMOVE
FUNCTION
CALLED
AFTER
EVERY
ACTION
XTRESOLVEPATHNAME
FIND
A
FILE
XTSCREENOFOBJECT
RETURN
SCREEN
OF
OBJECT
XTSETMULTICLICKTIME
SET
THE
MULTICLICK
TIME
XTSETWMCOLORMAPWINDOWS
SET
WMCOLORMAPWINDOWS
FOR
CUSTOM
COLORMAPS
XTUNGRABBUTTON
CANCEL
A
PASSIVE
BUTTON
GRAB
XTUNGRABKEY
CANCEL
A
PASSIVE
KEY
GRAB
XTUNGRABKEYBARD
RELEASE
AN
ACTIVE
KEYBOARD
GRAB
XTUNGRABPOINTER
RELEASE
AN
ACTIVE
POINTER
GRAB
XTVA
VARAGS
INTERFACES
TO
A
BUNCH
OF
FUNCTIONS
XTWINDOWOFOBJECT
RETURN
WINDOW
OF
NEAREST
WIDGET
ANCESTOR
DEPRECATED
REPLACEMENT
WHEN
XTADDACTIONS
XTAPPADDACTIONS
XTADDCONVERTER
XTAPPADDCONVERTER
XTADDINPUT
XTAPPADDINPUT
XTADDTIMEOUT
XTAPPADDTIMEOUT
XTADDWORKPROC
XTAPPADDWORKPROC
XTCONVERT
XTCONVERTANDSTORE
XTCREATEAPPLICATIONSHELL
XTAPPCREATESHELL
XTDESTROYGC
XTRELEASEGC
XTERROR
XTAPPERROR
XTGETERRORDATABASE
XTAPPGETERRORDATABASE
XTGETERRORDATABASETEXT
XTAPPGETERRORDATABASETEXT
XTGETSELECTIONTIMEOUT
XTAPPGETSELECTIONTIMEOUT
XTINITIALIZE
XTAPPINITIALIZE
XTMAINLOOP
XTAPPMAINLOOP
MENUPOPDOWNACTION
XTMENUPOPDOWNACTION
MENUPOPUPACTION
XTMENUPOPUPACTION
XTNEXTEVENT
XTAPPNEXTEVENT
XTPEEKEVENT
XTAPPPEEKEVENT
XTPENDING
XTAPPPENDING
XTSETERRORHANDLER
XTAPPSETERRORHANDLER
XTSETERRORMSGHANDLER
XTAPPSETERRORMSGHANDLER
XTSETSELECTIONTIMEOUT
XTAPPSETSELECTIONTIMEOUT
XTSETWARNINGHANDLER
XTAPPSETWARNINGHANDLER
XTSETWARNINGMSGHANDLER
XTAPPSETWARNINGMSGHANDLER
XTWARNING
XTAPPWARNING
XTWARNINGMSG
XTAPPWARNINGMSG
WHERE
ARE
THE
RESOURCES
LOADED
FROM
THE
RESOURCES
OF
A
WIDGET
ARE
FILLED
IN
FROM
THE
FOLLOWING
PLACES
FROM
HIGHEST
PRIORITY
TO
LOWEST
PRIORITY
ARGS
PASSED
AT
CREATION
TIME
COMMAND
LINE
ARGUMENTS
USERS
PER
HOST
DEFAULTS
FILE
USERS
DEFAULTS
FILE
USERS
PER
APPLICATION
DEFAULT
FILE
SYSTEM
WIDE
PER
APPLICATION
DEFAULT
FILE
NOTE
THAT
ARE
READ
ONLY
ONCE
ON
APPLICATION
STARTUP
THE
RESULT
OF
STEPS
IS
A
SINGLE
RESOURCE
DATABASE
USED
FOR
FURTHER
QUERIES
THE
PER
HOST
DEFAULTS
FILE
CONTAINS
CUSTOMIZATIONS
FOR
ALL
APPLICATIONS
EXECUTING
ON
A
SPECIFIC
COMPUTER
THIS
FILE
IS
EITHER
SPECIFIED
WITH
THE
XENVIRONMENT
ENVIRONMENT
VARIABLE
OR
IF
THAT
IS
NOT
SET
THEN
THE
FILE
HOMEXDEFAULTSHOST
IS
USED
THE
USER
DEFAULTS
FILE
IS
EITHER
OBTAINED
FROM
THE
RESOURCEMANAGER
PROPERTY
ON
THE
ROOT
WINDOW
OF
THE
DISPLAY
OR
IF
THAT
IS
NOT
SET
THEN
THE
FILE
HOMEXDEFAULTS
IS
USED
TYPICALLY
THE
PROGRAM
XRDB
IS
USED
TO
SET
THE
RESOURCEMANAGER
PROPERTY
PLEASE
NOTE
THAT
THIS
SHOULD
BE
KEPT
RELATIVELY
SMALL
AS
EACH
CLIENT
THAT
CONNECTS
TO
THE
DISPLAY
MUST
TRANSFER
THE
PROPERTY
A
SIZE
OF
AROUND
IS
REASONABLE
SOME
TOOLKITS
MAY
TRACK
CHANGES
TO
THE
RESOURCEMANAGER
BUT
MOST
DO
NOT
A
USER
MAY
HAVE
MANY
PER
APPLICATION
DEFAULT
FILES
CONTAINING
CUSTOMIZATIONS
SPECIFIC
TO
EACH
APPLICATION
THE
INTRINSICS
ARE
QUITE
FLEXIBLE
ON
HOW
THIS
FILE
IS
FOUND
READ
THE
NEXT
PART
THAT
DESCRIBES
THE
VARIOUS
ENVIRONMENT
VARIABLES
AND
HOW
THEY
EFFECT
WHERE
THIS
FILE
IS
FOUND
THE
SYSTEM
WIDE
PER
APPLICATION
DEFAULT
FILES
ARE
TYPICALLY
FOUND
IN
IF
SUCH
A
FILE
IS
NOT
FOUND
THEN
THE
FALLBACK
RESOURCES
ARE
USED
THE
INTRINSICS
ARE
QUITE
FLEXIBLE
ON
HOW
THIS
FILE
IS
FOUND
READ
THE
NEXT
PART
THAT
DESCRIBES
THE
VARIOUS
ENVIRONMENT
VARIABLES
AND
HOW
THEY
EFFECT
WHERE
THIS
FILE
IS
FOUND
THANKS
TO
OLIVER
JONES
OJPICTELCOM
FOR
THE
FOLLOWING
YOU
CAN
USE
SEVERAL
ENVIRONMENT
VARIABLES
TO
CONTROL
HOW
RESOURCES
ARE
LOADED
FOR
YOUR
XTBASED
PROGRAMS
XFILESEARCHPATH
XUSERFILESEARCHPATH
AND
XAPPLRESDIR
THESE
ENVIRONMENT
VARIABLES
CONTROL
WHERE
XT
LOOKS
FOR
APPLICATIONDEFAULTS
FILES
AS
AN
APPLICATION
IS
INITIALIZING
XT
LOADS
AT
MOST
ONE
APPDEFAULTS
FILE
FROM
THE
PATH
DEFINED
IN
XFILESEARCHPATH
AND
ANOTHER
FROM
THE
PATH
DEFINED
IN
XUSERFILESEARCHPATH
SET
XFILESEARCHPATH
IF
SOFTWARE
IS
INSTALLED
ON
YOUR
SYSTEM
IN
SUCH
A
WAY
THAT
APPDEFAULTS
FILES
APPEAR
IN
SEVERAL
DIFFERENT
DIRECTORY
HIERARCHIES
SUPPOSE
FOR
EXAMPLE
THAT
YOU
ARE
RUNNING
SUNS
OPEN
WINDOWS
AND
YOU
ALSO
HAVE
SOME
X
APPLICATIONS
INSTALLED
IN
YOU
COULD
SET
A
VALUE
LIKE
THIS
FOR
XFILESEARCHPATH
AND
IT
WOULD
CAUSE
XT
TO
LOOK
UP
APPDEFAULTS
FILES
IN
BOTH
AND
USROPENWINLIB
OR
WHEREVER
YOUR
OPENWINHOME
IS
LOCATED
SETENV
XFILESEARCHPATH
THE
VALUE
OF
THIS
ENVIRONMENT
VARIABLE
IS
A
COLONSEPARATED
LIST
OF
PATHNAMES
THE
PATHNAMES
CONTAIN
REPLACEMENT
CHARACTERS
AS
FOLLOWS
SEE
XTRESOLVEPATHNAME
N
THE
VALUE
OF
THE
FILENAME
PARAMETER
OR
THE
APPLICATIONS
CLASS
NAME
T
THE
VALUE
OF
THE
FILE
TYPE
IN
THIS
CASE
THE
LITERAL
STRING
APPDEFAULTS
C
CUSTOMIZATION
RESOURCE
ONLY
S
SUFFIX
NONE
FOR
APPDEFAULTS
L
LANGUAGE
LOCALE
AND
CODESET
EG
JAJPEUC
L
LANGUAGE
PART
OF
L
EG
JA
T
THE
TERRITORY
PART
OF
THE
DISPLAYS
LANGUAGE
STRING
C
THE
CODESET
PART
OF
THE
DISPLAYS
LANGUAGE
STRING
LETS
TAKE
APART
THE
EXAMPLE
SUPPOSE
THE
APPLICATIONS
CLASS
NAME
IS
MYTERM
ALSO
SUPPOSE
OPEN
WINDOWS
IS
INSTALLED
IN
USROPENWIN
NOTICE
THE
EXAMPLE
OMITS
LOCALESPECIFIC
LOOKUP
MEANS
OPENWINHOMELIBTN
MEANS
USROPENWINLIBAPPDEFAULTSMYTERM
AS
THE
APPLICATION
INITIALIZES
XT
TRIES
TO
OPEN
BOTH
OF
THE
ABOVE
APPDEFAULTS
FILES
IN
THE
ORDER
SHOWN
AS
SOON
AS
IT
FINDS
ONE
IT
READS
IT
AND
USES
IT
AND
STOPS
LOOKING
FOR
OTHERS
THE
EFFECT
OF
THIS
PATH
IS
TO
SEARCH
FIRST
IN
THEN
IN
USROPENWIN
LETS
CONSIDER
ANOTHER
EXAMPLE
THIS
TIME
LETS
SET
XUSERFILESEARCHPATH
SO
IT
LOOKS
FOR
THE
FILE
MYTERMAD
IN
THE
CURRENT
WORKING
DIRECTORY
THEN
FOR
MYTERM
IN
THE
DIRECTORY
APPDEFAULTS
SETENV
XUSERFILESEARCHPATH
NADHOMEAPPDEFAULTSN
THE
FIRST
PATH
IN
THE
LIST
EXPANDS
TO
MYTERMAD
THE
SECOND
EXPANDS
TO
HOMEAPPDEFAULTSMYTERM
THIS
IS
A
CONVENIENT
SETTING
FOR
DEBUGGING
BECAUSE
IT
FOLLOWS
THE
IMAKE
CONVENTION
OF
NAMING
THE
APPDEFAULTS
FILE
MYTERMAD
IN
THE
APPLICATIONS
SOURCE
DIRECTORY
SO
YOU
CAN
RUN
THE
APPLICATION
FROM
THE
DIRECTORY
IN
WHICH
YOU
ARE
WORKING
AND
STILL
HAVE
THE
RESOURCES
LOADED
PROPERLY
NOTE
WHEN
LOOKING
FOR
APPDEFAULT
FILES
WITH
XUSERFILESEARCHPATH
FOR
SOME
BIZARRE
REASON
NEITHER
THE
TYPE
NOR
FILE
SUFFIX
IS
DEFINED
SO
T
AND
S
ARE
USELESS
WITH
THERES
ANOTHER
TWIST
YOU
MAY
SPECIFY
A
CUSTOMIZATION
RESOURCE
VALUE
FOR
EXAMPLE
YOU
MIGHT
RUN
THE
MYTERM
APPLICATION
LIKE
THIS
MYTERM
XRM
CUSTOMIZATION
COLOR
IF
ONE
OF
YOUR
PATHNAME
SPECIFICATIONS
HAD
THE
VALUE
THEN
THE
EXPANDED
PATHNAME
WOULD
BE
BECAUSE
THE
C
SUBSTITUTION
CHARACTER
TAKES
ON
THE
VALUE
OF
THE
CUSTOMIZATION
RESOURCE
THE
DEFAULT
XFILESEARCHPATH
COMPILED
INTO
XT
IS
NOTE
SOME
SITES
REPLACE
WITH
A
PROJECTROOT
IN
THIS
BATCH
OF
DEFAULT
SETTINGS
THE
DEFAULT
XUSERFILESEARCHPATH
ALSO
COMPILED
INTO
XT
IS
ROOTLNC
ROOTLNC
ROOTNC
ROOTLN
ROOTLN
ROOTN
ROOT
IS
EITHER
THE
VALUE
OF
XAPPLRESDIR
OR
THE
USERS
HOME
DIRECTORY
IF
XAPPLRESDIR
IS
NOT
SET
IF
YOU
SET
XUSERFILESEARCHPATH
TO
SOME
VALUE
OTHER
THAN
THE
DEFAULT
XT
IGNORES
XAPPLRESDIR
ALTOGETHER
NOTICE
THAT
THE
QUICK
AND
DIRTY
WAY
OF
MAKING
YOUR
APPLICATION
FIND
YOUR
APPDEFAULTS
FILE
IN
YOUR
CURRENT
WORKING
DIRECTORY
IS
TO
SET
XAPPLRESDIR
TO
A
SINGLE
DOT
IN
ALL
THIS
MACHINERY
WORKED
DIFFERENTLY
FOR
COMPATIBILTY
MANY
PEOPLE
SET
THEIR
XAPPLRESDIR
VALUE
TO
A
DOT
FOLLOWED
BY
A
SLASH
WHAT
ORDER
ARE
CALLBACKS
EXECUTED
IN
COURTESY
OF
DONNA
CONVERSE
CONVERSEEXPOLCSMITEDU
THE
INTRINSICS
LIBRARY
DO
NOT
GUARANTEE
AN
ORDER
THIS
IS
BECAUSE
BOTH
THE
WIDGET
WRITER
AND
THE
APPLICATION
WRITER
HAVE
THE
ABILITY
TO
MODIFY
THE
ENTIRE
CONTENTS
OF
THE
CALLBACK
LIST
NEITHER
ONE
CURRENTLY
KNOWS
WHAT
THE
OTHER
IS
DOING
AND
SO
THE
INTRINSICS
CANNOT
GUARANTEE
THE
ORDER
OF
EXECUTION
THE
APPLICATION
PROGRAMMER
CANNOT
RELY
ON
THE
WIDGET
WRITER
THE
WIDGET
WRITER
IS
NOT
REQUIRED
TO
DOCUMENT
WHEN
THE
WIDGET
WILL
ADD
AND
REMOVE
CALLBACKS
FROM
THE
LIST
OR
WHAT
EFFECT
THIS
WILL
HAVE
THEREFORE
THE
FUNCTIONALITY
CONTAINED
IN
A
CALLBACK
SHOULD
BE
INDEPENDENT
OF
THE
FUNCTIONALITY
CONTAINED
IN
OTHER
CALLBACKS
ON
THE
LIST
EVEN
THOUGH
THE
XT
STANDARD
IN
THE
DEFINITION
OF
XTADDCALLBACK
SAYS
CALLBACKNAME
SPECIFIES
THE
CALLBACK
LIST
TO
WHICH
THE
PROCEDURE
IS
TO
BE
APPENDED
YOU
MAY
NOT
INFER
FROM
THE
WORD
APPENDED
THAT
THE
CALLBACK
ROUTINES
ARE
CALLED
IN
THE
SAME
ORDER
AS
THEY
HAVE
BEEN
ADDED
TO
THE
CALLBACK
LIST
HOW
DO
I
KNOW
IF
A
WIDGET
IS
VISIBLE
COURTESY
OF
DONNA
CONVERSE
CONVERSEEXPOLCSMITEDU
I
AM
BUILDING
A
WIDGET
NEEDS
TO
KNOW
IF
IT
IS
VISIBLE
I
SET
THE
VISIBLE
INTEREST
FIELD
IN
CORE
AND
IF
MY
WINDOW
IS
COMPLETELY
OBSCURED
THE
CORE
VISIBLE
FLAG
GOES
FALSE
HOWEVER
IF
MY
WINDOW
IS
ICONIFIED
THE
FLAG
STAYS
SET
TO
TRUE
RIGHT
EVERYTHING
IS
IMPLEMENTED
CORRECTLY
THIS
DEMONSTRATES
A
DEFICIENCY
IN
THE
X
PROTOCOL
AND
THE
CORE
WIDGET
IS
REFLECTING
THE
CAPABILITIES
OF
THE
PROTOCOL
THE
DEFICIENCY
IS
THAT
THE
INFORMATION
IS
AVAILABLE
IN
ONE
WAY
IN
THIS
CASE
AN
INCONVENIENT
WAY
THE
XT
SPECIFICATION
IS
ACCURATE
IN
THE
SECOND
AND
THIRD
PARAGRAPHS
OF
SECTION
SO
READ
THIS
SECTION
CAREFULLY
THE
VISIBLE
FIELD
WILL
NOT
CHANGE
IN
RESPONSE
TO
ICONIFICATION
A
VISIBILITYNOTIFY
EVENT
WILL
NOT
BE
RECEIVED
WHEN
THE
WINDOW
GOES
FROM
VIEWABLE
TO
UNVIEWABLE
THAT
IS
WHEN
THE
WIDGET
OR
AN
ANCESTOR
IS
UNMAPPED
THAT
IS
WHEN
ICONIFICATION
OCCURS
THIS
IS
THE
PROTOCOL
DEFICIENCY
VISIBILITY
STATE
AND
VIEWABLE
STATE
HAVE
SPECIFIC
MEANINGS
IN
THE
X
PROTOCOL
SEE
THE
GLOSSARY
IN
YOUR
XLIB
AND
X
PROTOCOL
REFERENCE
MANUAL
IS
THIS
A
PROBLEM
WITH
MWM
OR
IS
THERE
SOMETHING
ELSE
WHICH
NEEDS
TO
BE
DONE
YOULL
SEE
THIS
WITH
ANY
WINDOW
MANAGER
WITH
NO
WINDOW
MANAGER
IF
THE
PROBLEM
IS
MWM
WHAT
IS
THE
FASTEST
WAY
TO
DETERMINE
IF
A
WINDOW
IS
ICONIFIED
AS
AN
APPLICATION
WRITER
KEEP
TRACK
WITH
A
GLOBAL
BOOLEAN
IN
AN
ACTION
ROUTINE
WITH
TRANSLATIONS
FOR
MAPNOTIFY
AND
UNMAPNOTIFY
ON
THE
SHELL
WIDGET
WHICH
CONTAINS
YOUR
CUSTOM
WIDGET
AS
THE
CUSTOM
WIDGET
WRITER
SEE
THE
MAPSTATE
FIELD
RETURNED
BY
A
CALL
TO
XGETWINDOWATTRIBUTES
THESE
ARE
SUGGESTIONS
HOW
DO
I
REPARENT
A
WIDGET
IN
XT
IE
XTREPARENTWIDGET
YOU
CANT
WHY
USE
XTMALLOC
XTFREE
ETC
UNFORTUNATELY
MOST
CODE
THAT
CALLS
MALLOC
REALLOC
OR
CALLOC
TENDS
TO
IGNORE
THE
POSSIBILITY
OF
RETURNING
NULL
AT
BEST
IT
IS
HANDLED
SOMETHING
LIKE
PTR
TYPE
MALLOC
SIZEOF
TYPE
IF
PTR
PERROR
MALLOC
IN
XYZZY
EXIT
TO
HANDLE
THIS
COMMON
CASE
THE
INTRINSICS
DEFINE
THE
FUNCTIONS
XTMALLOC
XTCALLOC
XTNEW
XTNEWSTRING
AND
XTREALLOC
WHICH
ALL
USE
THE
STANDARD
C
LANGUAGE
FUNCTIONS
MALLOC
CALLOC
AND
REALLOC
BUT
EXECUTE
XTERRORMSG
IF
A
NULL
VALUE
IS
RETURNED
XT
ERROR
HANDLERS
ARE
NOT
SUPPOSED
TO
RETURN
SO
THIS
EFFECTIVELY
EXITS
IN
ADDITION
IF
XTREALLOC
IS
CALLED
WITH
A
NULL
POINTER
IT
USES
XTMALLOC
TO
GET
THE
INITIAL
SPACE
THIS
ALLOWS
CODE
LIKE
IF
PTR
PTR
TYPE
MALLOC
SIZEOF
TYPE
ELSE
PTR
TYPE
REALLOC
PTR
SIZEOF
TYPE
COUNT
COUNT
TO
BE
WRITTEN
AS
PTR
XTREALLOC
PTR
SIZEOF
PTR
COUNT
ALSO
XTFREE
ACCEPTS
A
NULL
POINTER
AS
AN
ARGUMENT
GENERALLY
IVE
FOUND
THE
XT
FUNCTIONS
CONVENIANT
TO
USE
HOWEVER
ANYTIME
IM
ALLOCATING
ANYTHING
POTENTIALLY
LARGE
I
USE
THE
STANDARD
FUNCTIONS
SO
I
CAN
FULLY
RECOVER
FROM
NOT
ENOUGH
MEMORY
ERRORS
XTNEW
AND
XTNEWSTRING
ARE
CONVENIANT
MACROS
FOR
ALLOCATING
A
STRUCTURE
OR
COPYING
A
STRING
STRUCT
ABC
XYZZY
CHAR
PTR
CHAR
STR
ABCDEF
XYZZY
XTNEW
STRUCT
ABC
TAKES
CARE
OF
TYPE
CASTING
PTR
XTNEWSTRING
STR
A
STRICT
INTERPRETATION
OF
THE
INTRINSICS
REFERENCE
MANUAL
ALLOW
AN
IMPLEMENTATION
TO
PROVIDE
FUNCTIONS
THAT
ARE
NOT
EXCHANGABLE
WITH
MALLOC
AND
FREE
IE
CODE
SUCH
AS
CHAR
PTR
PTR
XTMALLOC
FREE
PTR
MAY
NOT
WORK
PERSONALLY
ID
CALL
ANY
IMPLEMENTATION
THAT
DID
THIS
BROKEN
AND
COMPLAIN
TO
THE
VENDOR
A
COMMON
ERROR
FOR
MOTIF
PROGRAMMERS
IS
TO
USE
XTFREE
ON
A
STRING
WHEN
THEY
SHOULD
REALLY
BE
USING
XMSTRINGFREE
HOW
TO
DEBUG
AN
XT
APPLICATION
FIRST
ID
RECOMEND
GETTING
PURIFY
FROM
PURE
SOFTWARE
THIS
IS
A
GREAT
PACKAGE
FOR
TRACING
MEMORY
PROBLEMS
ON
SUNS
ITS
A
BIT
PRICEY
AT
BUT
ID
STILL
RECOMEND
IT
EXCUSE
THE
MARKETING
BLURB
CONTACT
SUPPORTPURECOM
FOR
MORE
INFO
PURIFY
INSERTS
ADDITIONAL
CHECKING
INSTRUCTIONS
DIRECTLY
INTO
THE
OBJECT
CODE
PRODUCED
BY
EXISTING
COMPILERS
THESE
INSTRUCTIONS
CHECK
EVERY
MEMORY
READ
AND
WRITE
PERFORMED
BY
THE
PROGRAM
UNDER
TEST
AND
DETECT
SEVERAL
TYPES
OF
ACCESS
ERRORS
SUCH
AS
READING
UNITIALIZED
MEMORY
WRITING
PAST
MALLOCD
BOUNDS
OR
WRITING
TO
FREED
MEMORY
PURIFY
INSERTS
CHECKING
LOGIC
INTO
ALL
OF
THE
CODE
IN
A
PROGRAM
INCLUDING
THIRD
PARTY
AND
VENDOR
OBJECTCODE
LIBRARIES
AND
VERIFIES
SYSTEM
CALL
INTERFACES
IN
ADDITION
PURIFY
TRACKS
MEMORY
USAGE
AND
IDENTIFIES
INDIVIDUAL
MEMORY
LEAKS
USING
A
NOVEL
ADAPTION
OF
GARBAGE
COLLECTION
TECHNIQUES
PURIFYS
NEARLY
COMPREHENSIVE
MEMORY
ACCESS
CHECKING
SLOWS
THE
TARGET
PROGRAM
DOWN
TYPICALLY
BY
A
FACTOR
OF
TWO
TO
FIVE
AN
ALTERNATIVE
PACKAGE
THAT
ISNT
AS
PRICEY
FOR
A
SUN
RUNS
ON
MANY
UNIXS
AND
HAS
PRETTY
SIMILAR
FEATURES
IS
THE
SENTINEL
DEBUGGING
ENVIRONMENT
THIS
REPLACES
MALLOC
AND
SEVERAL
OTHER
C
LIBRARY
FUNCTIONS
TO
ADD
ADDITIONAL
CHECKS
CONTACT
CPCAHILVIRTECHVTICOM
FOR
MORE
INFO
NEXT
IF
YOU
ARE
GETTING
ANY
SORT
OF
XLIB
ERROR
YOULL
NEED
TO
RUN
IN
SYNCHRONOUS
MODE
EASILY
ACCOMPLISHED
WITH
THE
SYNC
COMMAND
LINE
ARGUMENT
OR
BY
SETTING
THE
VARIABLE
XDEBUG
TO
WITH
YOUR
DEBUGGER
THEN
SET
A
BREAK
POINT
IN
EXIT
THIS
WILL
LET
YOU
TRACE
BACK
TO
THE
ORIGINAL
XLIB
FUNCTION
BEING
CALLED
IF
YOU
DONT
RUN
IN
SYNCHRONOUS
MODE
THEN
THE
ACTUAL
ERROR
MAY
HAVE
OCCURED
ANY
NUMBER
OF
CALLS
TO
XLIB
PREVIOUSLY
SINCE
THE
XLIB
CALLS
ARE
BUFFERED
AND
REPLIES
FROM
THE
SERVER
ARE
ASYNCHRONOUS
NEXT
IF
YOU
ARE
HAVING
TROUBLE
WITH
WINDOW
LAYOUT
YOU
CAN
USE
THE
UNDOCUMENTED
RESOURCE
XTIDENTIFYWINDOWS
OR
THE
CLASS
RESOURCE
XTDEBUG
TO
CAUSE
THE
WIDGET
NAME
TO
BE
IDENTIFIED
WITH
EACH
WINDOW
FOR
EXAMPLE
EXAMPLE
XLOAD
XRM
XTDEBUGTRUE
EXAMPLE
XWININFO
TREE
CLICK
IN
NEW
XLOAD
WINDOW
WILL
GIVE
THE
NORMAL
INFORMATION
BUT
THE
WIDGET
NAME
AND
CLASS
OF
EACH
WINDOW
IS
INCLUDED
THIS
CAN
HELP
FOR
CHECKING
THE
LOCATION
AND
SIZE
OF
ERRANT
WIDGETS
NEXT
IF
YOU
ARE
HAVING
TROUBLE
WITH
GEOMETRY
MANAGERS
OR
YOU
WANT
TO
TEST
THE
WAY
A
WIDGET
MANAGES
ITS
CHILDREN
YOU
CAN
TRY
EXPORTLCSMITEDUCONTRIBLIBXTGEOTARZ
THIS
ACTS
AS
A
FILTER
BETWEEN
ANY
CHILDREN
AND
A
GEOMETRY
MANAGER
AND
CHECKS
THE
BEHAVIOUR
OF
BOTH
ITS
A
VERY
CLEVER
IDEA
THE
MOST
UNFORTUNATE
PROBLEM
IS
DEBUGGING
A
CALLBACK
WHILE
THE
APPLICATION
IS
EXECUTING
A
GRAB
OF
THE
KEYBOARD
OR
MOUSE
SUCH
AS
FROM
A
PULLDOWN
MENU
THE
SERVER
EFFECTIVELY
LOCKS
UP
AND
YOULL
NEED
TO
GO
TO
ANOTHER
MACHINE
AND
KILL
THE
DEBUGGER
MANUALLY
THE
SERVER
LOCKS
UP
BECAUSE
THE
APPLICATION
BEING
DEBUGGED
HAS
SAID
NO
ONE
ELSE
CAN
HAVE
ACCESS
TO
THE
KEYBOARD
BUT
THE
APPLICATION
IS
NOT
STOPPED
WAITING
BECAUSE
THE
DEBUGGER
IS
WAITING
FOR
YOUR
COMMANDS
UNFORTUNATELY
YOU
CANT
GIVE
THEM
BECAUSE
ALL
THE
INPUT
IS
GOING
TO
YOUR
APPLICATION
WHICH
IS
STOPPED
THE
BEST
WAY
TO
DEBUG
THIS
KIND
OF
PROBLEM
IS
WITH
TWO
MACHINES
ON
YOUR
DESK
RUNNING
THE
PROGRAM
UNDER
A
DEBUGGER
OR
OTHER
ENVIRONMENT
ON
ONE
MACHINE
AND
RUNNING
THE
APPLICATION
ON
THE
OTHER
POSSIBLY
USING
A
COMMAND
SEQUENCE
LIKE
THIS
OTHERMACHINE
XHOST
THISMACHINE
THISMACHINE
SETENV
DISPLAY
THISMACHINE
GDB
APPLICATION
YOUR
FAVORITE
DEBUGGER
OR
THIS
OTHERMACHINE
XHOST
THISMACHINE
THISMACHINE
GDB
APPLICATION
GDB
SET
ENVIRONMENT
DISPLAY
GDB
RUN
I
BELIEVE
CODECENTER
A
C
INTERPRETERGRAPHICAL
DEBUGGER
HAS
A
METHOD
OF
DEALING
WITH
THIS
BY
EXPLICITELY
CALLING
THE
XLIB
FUNCTIONS
TO
RELEASE
ANY
GRABS
DURING
BREAKPOINTS
DEBUGGING
WIDGET
PROBLEMS
REQUIRES
PRETTY
GOOD
DEBUGGING
SKILLS
AND
KNOWLEDGE
OF
HOW
WIDGETS
WORK
YOU
CAN
GO
A
LONG
WAY
WITHOUT
KNOWING
THE
INTERNALS
OF
A
PARTICULAR
WIDGET
BUT
NOT
VERY
FAR
WITHOUT
UNDERSTANDING
HOW
A
WIDGET
WORKS
JUDICIOUS
USE
OF
CONDITIONAL
BREAKPOINTS
AND
ADDING
PRINT
STATEMENTS
WITH
THE
DEBUGGER
HELP
A
GREAT
DEAL
WHY
DONT
XTADDINPUT
XTADDTIMEOUT
AND
XTADDWORKPROC
WORK
I
HAVE
GOT
A
DELICATE
PROBLEM
WITH
THE
THREE
ROUTINES
XTADDINPUT
XTADDTIMEOUT
AND
XTADDWORKPROC
THE
PROBLEM
I
HAVE
IS
THAT
WHEN
I
USE
THEM
IN
MY
APPLICATION
THEY
SEEM
NOT
TO
BE
REGISTRED
PROPERLY
I
HAVE
MADE
A
HANDY
LITTLE
TESTPROGRAM
WHERE
EVERYTHING
WORKS
PERFECT
BUT
IN
MY
REAL
APPLICATION
NOTHING
HAPPENS
THE
INTRODUCTION
IN
OF
THE
XTAPP
FUNCTIONS
OBSOLETED
THOSE
ROUTINES
SEE
FOR
OTHER
CHANGES
IN
AND
WHAT
HAPPENS
IS
THEY
USE
A
DEFAULT
APPLICATION
CONTEXT
DIFFERENT
THEN
THE
ONE
YOU
MAY
HAVE
CREATED
SINCE
EVENTS
AND
TIMEOUTS
ARE
DISTRIBUTED
ON
A
PER
APPLICATION
CONTEXT
BASIS
AND
YOU
ARE
USING
TWO
APPLICATION
CONTEXTS
YOU
WONT
GET
THOSE
EVENTS
FOR
EXAMPLE
CNT
TOPLEVEL
XTAPPINITIALIZEAPP
CLASS
DESC
XTNUMBER
DESC
ARGC
ARGV
FALLBACK
ARGS
CNT
XTADDTIMEOUT
XTADDWORKPROC
XTAPPMAINLOOP
APP
WOULD
NEVER
INVOKE
THE
TIMEOUT
WHAT
IS
AND
HOW
CAN
I
IMPLEMENT
DRAG
AND
DROP
COURTESY
OF
ROGER
REYNOLDS
ROGERRNETCOMCOM
FEB
DRAGNDROP
IS
A
BUZZWORD
FOR
MOVING
DATA
BETWEEN
CLIENTS
IN
AN
INTUITIVE
FASHION
MOTIF
VERSION
SUPPORTS
DRAGNDROP
CAPABILITIES
OPENLOOK
HAS
SUPPORTED
DND
ALL
ALONG
THE
TWO
PROTOCOLS
ARE
NOT
COMPATABLE
WITH
EACH
OTHER
AND
SO
FAR
AS
I
KNOW
THEY
ARE
NOT
PUBLISHED
I
WROTE
A
PACKAGE
CALLED
RDD
WHICH
IS
DESIGNED
TO
BE
A
FLEXIBLE
PUBLIC
PROTOCOL
FOR
DOING
DRAG
N
DROP
OPERATIONS
BETWEEN
CLIENTS
MY
INTENTION
WAS
TO
PROVIDE
A
TOOL
WHICH
WOULD
MAKE
IT
EASY
FOR
PEOPLE
TO
SUPPORT
A
STANDARD
DRAGNDROP
PROTOCOL
IN
THE
PROGRAMS
THEY
DEVELOP
AND
CONTRIBUTE
OR
SELL
REGARDLESS
OF
WHAT
WIDGET
SET
IS
USED
AS
LONG
AS
IT
IS
BASED
ON
XT
THE
IMPLEMENTATION
IS
BASED
UPON
MY
UNDERSTANDING
OF
THE
ICCCM
CONVENTIONS
FOR
MORE
DETAILS
READ
THE
CODE
I
HAVE
HEARD
FROM
DOZENS
OF
PEOPLE
USING
RDD
WHO
LIKE
IT
AND
FEEL
THAT
IT
WORKS
A
WHOLE
LOT
BETTER
THAN
MOTIF
STUFF
ALSO
THERE
SEEM
TO
BE
MANY
WHO
THINK
THAT
IT
IS
NEAT
BUT
ARE
CONSTRAINED
TO
USE
MOTIF
ANYWAY
THE
LATEST
RDD
AND
SOME
OTHER
STUFF
IS
AVAILABLE
FOR
FTP
FROM
NETCOMCOM
IN
PUBROGERR
A
POSSIBLY
OLDER
VERSION
IS
ALSO
AVAILABLE
ON
EXPORTLCSMITEDU
IN
CONTRIB
PETE
WARE
WARECISOHIOSTATEEDU
CIS
DEPT
OHIO
STATE
UNIVERSITY
W
BOLZ
HALL
NEIL
AVE
H
COLUMBUS
OH
