CALLING
A
LIBRARY
WHICH
CREATES
WIDGETS
MULTIPLE
TIMES
A
FEW
DAYS
AGO
I
POSTED
A
QUESTION
ABOUT
TRYING
TO
CALL
A
FUNCTION
WHICH
SET
UP
AN
X
APP
MULTIPLE
TIMES
IT
WAS
POINTED
OUT
THAT
XTAPPINITIALIZE
SHOULD
NEVER
BE
CALLED
MORE
THAN
ONCE
THIS
HELPED
HOWEVER
I
AM
STILL
HAVING
SOME
PROBLEMS
BELOW
IS
A
NEW
LITTLE
TEST
PROGRAM
THAT
MORE
CLOSELY
MODELS
MY
REAL
PROGRAM
IN
THE
ACTUAL
PROGRAM
I
AM
WRITING
A
LIBRARY
CALLABLE
FROM
ANY
OTHER
PROGRAM
THIS
MEANS
THAT
THE
FIRST
TIME
THE
LIB
FUNCTION
IS
CALLED
IT
MUST
INITIALIZE
THINGS
AND
AFTER
THAT
IT
SHOULD
JUST
USE
THE
OLD
STUFF
STILL
AROUND
BECAUSE
OF
STATIC
VARIABLES
IN
THE
DEMO
BELOW
MAIN
REPRESENTS
THE
MAIN
PROGRAM
CALLING
MY
LIBRARY
AND
DOIT
REPRESENTS
THE
INTERFACE
TO
THE
LIBRARY
FUNCTION
INCLUDE
INCLUDE
XMXMH
INCLUDE
XMPUSHBH
INCLUDE
STDIOH
INCLUDE
STDLIBH
VOID
BLAXTAPPCONTEXT
APP
WIDGET
TOP
WIDGET
TOPONE
TOP
IN
REAL
PROG
THESE
ARE
MEMBER
VARS
XTAPPCONTEXT
THEAPP
APP
OF
A
CLASS
INT
JUNK
DISPLAY
DIS
XTOPENDISPLAYTHEAPP
NULL
NULL
NULL
NULL
JUNK
NULL
WIDGET
BOX
XTVACREATEMANAGEDWIDGETBLAAA
XMPUSHBUTTONWIDGETCLASS
TOPONE
XMNHEIGHT
XMNWIDTH
NULL
XTREALIZEWIDGETTOPONE
FOR
INT
REAL
PROG
RETURNS
WHEN
EXIT
BUTTON
CLICKED
XEVENT
EVENT
XTAPPNEXTEVENTTHEAPP
EVENT
XTDISPATCHEVENTEVENT
XTDESTROYWIDGETBOX
XTCLOSEDISPLAYDIS
SETITUP
SHOULD
BE
CALLED
ONCE
ONLY
VOID
SETITUPXTAPPCONTEXT
APP
WIDGET
TOP
INT
JUNK
TOPXTAPPINITIALIZE
APP
TEST
NULL
JUNK
NULL
NULL
NULL
DOIT
SOME
LIBRARY
FUNCTION
CALLABLE
FROM
THE
OUTSIDE
VOID
DOIT
STATIC
XTAPPCONTEXT
APP
USE
THESE
EVERY
TIME
CALLED
STATIC
WIDGET
TOP
STATIC
INT
SETUP
IF
SETUP
SETITUPAPP
TOP
SETUP
BLAAPP
TOP
MAIN
PROGRAM
WHICH
LINKS
TO
MY
LIBRARY
MAIN
FOR
INT
DOIT
PRINTFSLEEPINGNWIDGET
STILL
ON
SCREEN
AT
THIS
POINT
THE
PROBLEM
IS
THAT
THE
WIDGET
DOES
NOT
GO
AWAY
UNTIL
THE
NEW
ONE
IS
CREATED
IT
IS
STILL
ON
THE
SCREEN
UNUSUABLE
DURING
THE
SLEEP
IN
THE
MAIN
PROG
DESPITE
THE
XTDESTROYWIDGET
CALL
ANYONE
SEE
SOMETHING
IM
MISSING
THANKS
VERY
MUCH
PLEASE
RESPOND
VIA
EMAIL
DAVID
REX
WOOD
DAVEWOODCSCOLORADOEDU
UNIVERSITY
OF
COLORADO
AT
BOULDER
