RE
LETS
BUILD
SOFTWARE
CRYPTOPHONES
FOR
OVER
THE
INTERNET
IN
GRAHAM
TOAL
GTOALGTOALCOM
WRITES
IN
ARTICLE
HALCCOCALTECHEDU
HAL
FINNEY
WRITES
I
TRIED
THIS
CODE
YESTERDAY
ON
MY
SPARCSTATION
ELC
IT
TAKES
OVER
SECONDS
TO
COMPRESS
SECONDS
WORTH
OF
SPEECH
THIS
MEANS
THAT
IT
NEEDS
TO
BE
OPTIMIZED
BY
OVER
A
FACTOR
OF
BEFORE
IT
WILL
BE
USABLE
IN
EVEN
A
HALFDUPLEX
MODE
OUCH
THANKS
FOR
TRYING
IT
THE
FOLLOWING
PROGRAM
IS
A
VERY
QUICK
HACK
I
CREATED
A
FEW
MONTHS
AGO
TO
DETERMINE
WHETHER
A
SUN
SPARCSTATION
IPC
COULD
PERFORM
REALTIME
FULLDUPLEX
ENCRYPTED
AUDIO
WITH
RESULTING
DATA
RATES
SUSTAINABLE
BY
TODAYS
MODEMS
THIS
TEST
PROGRAM
READS
LINEARLYENCODED
AUDIO
FROM
THE
AUDIO
DEVICE
COMPRESSES
IT
WITH
GSM
COMPRESSES
FRAMES
OF
SAMPLES
RECORDED
AT
INTO
BITS
RESULTING
IN
A
HZ
FRAME
RATE
ENCRYPTS
IT
WITH
DES
THEN
REVERSES
THE
PROCESS
AND
SENDS
THE
RECONSTRUCTED
AUDIO
BACK
TO
THE
AUDIO
DEVICE
THE
COMPRESSED
ENCRYPTED
AUDIO
STREAM
IS
KBITSS
MY
SPARCSTATION
IPC
NOT
EXACTLY
A
VERY
FAST
MACHINE
THESE
DAYS
CERTAINLY
SLOWER
THAN
AN
ELC
WOULD
JUST
BARELY
SUSTAIN
THIS
ACTIVITY
AUDIO
UNDERRUNS
WOULD
OCCCUR
BUT
THE
SPEECH
WAS
VERY
INTELLIGIBLE
I
RAN
IT
AS
A
REALTIME
PROCESS
TO
GET
THE
BEST
RESULTS
REMEMBER
THOUGH
THAT
THIS
PROGRAM
IS
A
QUICK
HACK
AND
THE
PERFORMANCE
CAN
CERTAINLY
BE
IMPROVED
THE
AUDIO
COMPRESSION
ROUTINES
CAN
BE
FTPD
FROM
TUBCSTUBERLINDE
I
BELIEVE
LOOK
FOR
GSM
OR
TOAST
I
USED
ERIC
YOUNGS
DES
IMPLEMENTATION
BUT
I
NO
LONGER
KNOW
WHERE
I
GOT
IT
FROM
CHEERSGREG
CUT
HERE
TEST
PROGRAM
TO
SEE
HOW
MUCH
CPU
IT
TAKES
FOR
SECURE
DIGITAL
AUDIO
WRITTEN
BY
G
ONUFER
GREGCHEERSBUNGICOM
WRITTEN
ON
A
SUN
IPC
RUNNING
SOLARIS
WITH
A
SUN
ISDN
SBUS
CARD
AND
A
SPEAKERBOX
INCLUDE
STDLIBH
INCLUDE
UNISTDH
INCLUDE
FCNTLH
INCLUDE
STDIOH
INCLUDE
SYSTYPESH
INCLUDE
SYSAUDIOIOH
INCLUDE
STROPTSH
INCLUDE
GSMH
INCLUDE
DESH
BOOLEANT
SVSAUDIOINITINT
FD
AUDIOINFOT
PREVINFO
AUDIOINFOT
INFO
IF
PREVINFO
NULL
IF
IOCTLFD
AUDIOGETINFO
PREVINFO
PERRORAUDIOGETINFO
RETURN
BFALSE
AUDIOINITINFOINFO
INFORECORDPAUSE
BTRUE
INFOPLAYPAUSE
BTRUE
INFOPLAYSAMPLERATE
INFOPLAYENCODING
AUDIOENCODINGLINEAR
INFOPLAYCHANNELS
INFOPLAYPRECISION
INFORECORDSAMPLERATE
INFORECORDENCODING
AUDIOENCODINGLINEAR
INFORECORDCHANNELS
INFORECORDPRECISION
INFORECORDBUFFERSIZE
IF
IOCTLFD
AUDIOSETINFO
INFO
PERRORAUDIOSETINFO
RETURN
BFALSE
IF
IOCTLFD
IFLUSH
FLUSHRW
PERRORIFLUSH
RETURN
BFALSE
AUDIOINITINFOINFO
INFORECORDPAUSE
BFALSE
INFOPLAYPAUSE
BFALSE
IF
IOCTLFD
AUDIOSETINFO
INFO
PERRORAUDIOSETINFO
RETURN
BFALSE
RETURN
BTRUE
BOOLEANT
SVSININT
IFD
GSM
HANDLE
GSMBYTE
BUF
GSMSIGNAL
IF
READIFD
SAMPLE
SIZEOF
SAMPLE
SIZEOF
SAMPLE
FPRINTFSTDERR
SVSIN
SHORT
READN
RETURN
BFALSE
GSMENCODEHANDLE
SAMPLE
BUF
RETURN
BTRUE
BOOLEANT
SVSOUTINT
OFD
GSM
HANDLE
GSMBYTE
BUF
GSMSIGNAL
IF
GSMDECODEHANDLE
BUF
SAMPLE
FPRINTFSTDERR
SVSOUT
GSMDECODE
FAILEDN
RETURN
BFALSE
IF
WRITEOFD
SAMPLE
SIZEOF
SAMPLE
SIZEOF
SAMPLE
FPRINTFSTDERR
SVSOUT
SHORT
WRITEN
RETURN
BFALSE
RETURN
BTRUE
MAIN
GSM
HANDLE
GSMFRAME
FRAME
INT
AUDIOFD
INT
OPTION
DESCBLOCK
KEY
IVECIN
IVECOUT
DESKEYSCHEDULE
KSIN
KSOUT
DESCBLOCK
AUDIOFD
OPENDEVAUDIO
ORDWR
IF
AUDIOFD
PERROROPEN
INITIALIZE
GSM
COMPRESSION
CODE
IF
HANDLE
GSMCREATE
NULL
FPRINTFSTDERR
SVS
GSMCREATE
FAILEDN
OPTION
BTRUE
IF
GSMOPTIONHANDLE
GSMOPTFAST
OPTION
FPRINTFSTDERR
SVS
GSMOPTION
FAST
FAILEDN
INITIALIZE
DES
CODE
DESRANDOMKEYKEY
IF
DESSETKEYKEY
KSIN
FPRINTFSTDERR
SVS
DESSETKEY
FAILEDN
IF
DESSETKEYKEY
KSOUT
FPRINTFSTDERR
SVS
DESSETKEY
FAILEDN
MEMSETIVECIN
SIZEOF
IVECIN
MEMSETIVECOUT
SIZEOF
IVECOUT
OPEN
AUDIO
DEVICE
AND
CONFIGURE
IT
IF
SVSAUDIOINITAUDIOFD
NULL
FOR
GET
SAMPLES
LINEAR
AND
CONVERT
TO
A
BYTE
FRAME
IF
SVSINAUDIOFD
HANDLE
FRAME
ENCRYPTDECRYPT
BLOCK
DESCBCENCRYPTFRAME
CBUFOUT
KSIN
IVECIN
DESENCRYPT
DESCBCENCRYPTCBUFOUT
CBUFBUF
KSOUT
IVECOUT
DESDECRYPT
MEMMOVEFRAME
CBUFBUF
IF
IF
MEMCMPCBUFIN
CBUFBUF
FPRINTFSTDERR
SVS
MEMCMP
FAILEDN
ENDIF
TAKE
BYTE
FRAME
AND
CONVERT
TO
SAMPLES
AND
PLAY
IF
SVSOUTAUDIOFD
HANDLE
FRAME
GSMDESTROYHANDLE
CUT
HERE
